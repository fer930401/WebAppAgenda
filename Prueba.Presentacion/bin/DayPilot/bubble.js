
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotBubble==='undefined'){var DayPilotBubble=DayPilot.BubbleVisible={};};(function(){if(typeof DayPilot.Bubble!=='undefined'){return;};var DayPilotBubble={};DayPilotBubble.mouseMove=function(ev){if(typeof(DayPilotBubble)==='undefined')return;DayPilotBubble.mouse=DayPilotBubble.mousePosition(ev);};DayPilotBubble.mousePosition=function(e){var $a=0;var $b=0;if(!e)var e=window.event;if(e.pageX||e.pageY){$a=e.pageX;$b=e.pageY;}else if(e.clientX||e.clientY){$a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;$b=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;};var $c={};$c.x=$a;$c.y=$b;$c.clientY=e.clientY;$c.clientX=e.clientX;return $c;};DayPilotBubble.Bubble=function(id){var $d=this;this.zIndex=10;this.showLoadingLabel=true;this.loadingText="Loading...";this.useShadow=true;this.showAfter=500;this.hideAfter=500;this.border="1px solid #000000";this.backgroundColor="#ffffff";this.corners='Rounded';var $e=false;if(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1){if(document.compatMode&&document.compatMode=="BackCompat"){$e=true;}};this.callBack=function($f){if(this.aspnet()){WebForm_DoCallback(this.uniqueID,$f,this.updateView,this,this.callbackError,true);}else{$f.calendar.eventBubbleCallBack($f.e,this);}};this.callbackError=function($c,$g){alert($c);};this.updateView=function($c,$g){DayPilotBubble.active=$g;if($g){if($g.object){$g.object.innerHTML=$c;};$g.adjustPosition();$g.addShadow();}};this.init=function(){DayPilot.re(document.body,'mousemove',DayPilotBubble.mouseMove);};this.aspnet=function(){return(typeof WebForm_DoCallback!=='undefined');};this.rounded=function(){return this.corners=='Rounded';};this.showEvent=function($h,e){if(this.aspnet()){var a=[];a.push($h);a.push(DayPilot.JSON.stringify(e));this.staticHTML=e.staticBubbleHTML?e.staticBubbleHTML():null;this.showOnMouseOver("EVE:"+DayPilot.ea(a));}else{var a={};a.calendar=e.calendar||e.root;a.e=e;this.showOnMouseOver(a);}};this.showCell=function($h,$i,$j,end){var a=[];a.push($h);a.push($i);a.push($j);a.push(end);this.showOnMouseOver("CEL:"+DayPilot.ea(a));};this.showTime=function($h,$j,end){var a=[];a.push($h);a.push($j);a.push(end);this.showOnMouseOver("TIM:"+DayPilot.ea(a));};this.showResource=function($h,$i){var a=[];a.push($h);a.push($i);this.showOnMouseOver("RES:"+DayPilot.ea(a));};this.show=function($k){var id=this.aspnet()?$k:$k.e.value();if(DayPilotBubble.active===this&&this.sourceId===id){return;};if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.active){return;};DayPilotBubble.hideActive();DayPilotBubble.active=this;this.sourceId=id;this.object=document.createElement("div");if(!this.showLoadingLabel){this.object.style.display='none';};document.body.appendChild(this.object);if(this.border){this.object.style.border=this.border;};if(this.width){this.object.style.width=this.width;};this.object.style.backgroundColor=this.backgroundColor;this.object.style.position='absolute';this.object.style.padding='4px';this.object.style.cursor='default';this.object.style.top='0px';this.object.style.left='0px';this.object.style.zIndex=this.zIndex+1;if(this.rounded()){this.object.style.MozBorderRadius="5px";this.object.style.webkitBorderRadius="5px";this.object.style.borderRadius="5px";};this.object.onclick=function(){DayPilotBubble.hideActive();};this.object.onmouseover=function(){DayPilotBubble.cancelTimeout();};this.object.oncontextmenu=function(){return false;};this.object.onmouseout=this.delayedHide;this.object.innerHTML=this.loadingText;this.mouse=DayPilotBubble.mouse;if(this.showLoadingLabel){this.adjustPosition();this.addShadow();};if(this.staticHTML){this.updateView(this.staticHTML,this);}else{this.callBack($k);}};this.adjustPosition=function(){var $l=22;var $m=10;var $n=10;if(!this.object){return;};this.object.style.display='';var $o=this.object.clientHeight;var $p=this.object.clientWidth;this.object.style.display='none';var $q=document.documentElement.clientHeight;if($e){$q=document.body.clientHeight;};if(this.mouse.clientY>$q-$o+$n){var $r=this.mouse.clientY-($q-$o)+$n;this.object.style.top=(this.mouse.y-$o-$m)+'px';}else{this.object.style.top=this.mouse.y+$l+'px';};var $s=document.documentElement.clientWidth;if($e){$s=document.body.clientWidth;};if(this.mouse.clientX>$s-$p+$n){var $t=this.mouse.clientX-($s-$p)+$n;this.object.style.left=(this.mouse.x-$t)+'px';}else{this.object.style.left=this.mouse.x+'px';};this.object.style.display='';};this.delayedHide=function(){DayPilotBubble.cancelTimeout();if($d.hideAfter>0){DayPilotBubble.timeout=window.setTimeout("DayPilotBubble.hideActive()",$d.hideAfter);}};this.showOnMouseOver=function($k){DayPilotBubble.cancelTimeout();var $u=function($v){return function(){$d.show($v);};};DayPilotBubble.timeout=window.setTimeout($u($k),this.showAfter);};this.hideOnMouseOut=function(){this.delayedHide();};this.addShadow=function(){if(!this.useShadow){return;};if(!this.object){return;};if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $w=document.createElement('div');$w.style.position='absolute';$w.style.width=this.object.offsetWidth+'px';$w.style.height=this.object.offsetHeight+'px';$w.style.top=this.object.offsetTop+i+'px';$w.style.left=this.object.offsetLeft+i+'px';$w.style.zIndex=this.zIndex;$w.style.filter='alpha(opacity:10)';$w.style.opacity=0.1;$w.style.backgroundColor='#000000';if(this.rounded()){$w.style.MozBorderRadius="5px";$w.style.webkitBorderRadius="5px";$w.style.borderRadius="5px";};document.body.appendChild($w);this.shadows.push($w);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};this.removeDiv=function(){if(!this.object){return;};document.body.removeChild(this.object);this.object=null;};this.init();};DayPilotBubble.cancelTimeout=function(){if(DayPilotBubble.timeout){window.clearTimeout(DayPilotBubble.timeout);}};DayPilotBubble.hideActive=function(){DayPilotBubble.cancelTimeout();var $d=DayPilotBubble.active;if($d){$d.removeDiv();$d.removeShadow();};DayPilotBubble.active=null;};DayPilot.BubbleVisible.Bubble=DayPilotBubble.Bubble;DayPilot.BubbleVisible.hideActive=DayPilotBubble.hideActive;DayPilot.BubbleVisible.cancelTimeout=DayPilotBubble.cancelTimeout;DayPilot.Bubble=DayPilotBubble.Bubble;DayPilot.Bubble.hideActive=DayPilotBubble.hideActive;})();

