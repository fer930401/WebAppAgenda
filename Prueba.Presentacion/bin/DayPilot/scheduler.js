
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var DayPilotScheduler={};var $a=function(){};DayPilotScheduler.moving=null;DayPilotScheduler.originalTop=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.originalWidth=null;DayPilotScheduler.originalLeft=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.startOffset=0;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$b,id,$c,$d){DayPilot.us(element);var $e=DayPilotScheduler.drag={};$e.element=element;$e.duration=$b;$e.text=$c;$e.id=id;$e.shadowType=$d?$d:'Fill';return false;};DayPilotScheduler.register=function($f){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$f){return;}};DayPilotScheduler.registered.push($f);};DayPilotScheduler.unregister=function($f){var a=DayPilotScheduler.registered;if(!a){return;};var $g=function($h,$i){if(!$h||!$h.length){return -1;};for(var i=0;i<$h.length;i++){if($h[i]===$i){return i;}};return -1;};var i=$g(a,$f);if(i===-1){return;};a.splice(i,1);};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $j=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $k=DayPilotScheduler.gShadow;$k.style.left=$j.x+'px';$k.style.top=$j.y+'px';DayPilotScheduler.moving=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $l=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($l.shadow);};var $k=DayPilotScheduler.gShadow;$k.style.left=$j.x+'px';$k.style.top=$j.y+'px';DayPilotScheduler.drag={};var $e=DayPilotScheduler.drag;$e.element=null;$e.duration=(ev.end().getTime()-ev.start().getTime())/1000;$e.text=ev.text();$e.id=ev.value();$e.shadowType=$l.shadow;$e.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].out){DayPilotScheduler.registered[i].out();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];c.dispose();DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){var e=DayPilotScheduler.resizing.event;var $f=e.calendar;var $m=DayPilotScheduler.resizingShadow.clientWidth+4;var $n=DayPilotScheduler.resizingShadow.offsetLeft;var $o=DayPilotScheduler.resizing.dpBorder;var $p=$f.rows[DayPilotScheduler.resizing.data.part.dayIndex];var $q=$p.Start.getTime()-$f.startDate.getTime();var $r=null;var $s=null;if($o==='left'){$r=$f.getDate($n).addTime($q);$s=e.end();}else if($o==='right'){$r=e.start();$s=$f.getDate($n+$m,false,true).addTime($q);};DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;document.body.style.cursor='default';$f.eventResizeDispatch(e,$r,$s);}else if(DayPilotScheduler.moving){var e=DayPilotScheduler.moving.event;var $f=DayPilotScheduler.moving.target;var $r=DayPilotScheduler.movingShadow.start;var $s=DayPilotScheduler.movingShadow.end;var $t=($f.viewType==='Resources')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.moving=null;document.body.style.cursor='default';if(DayPilotScheduler.drag){if(!$f.todo){$f.todo={};};$f.todo.del=DayPilotScheduler.drag.element;};var ev=ev||window.event;$f.eventMoveDispatch(e,$r,$s,$t,external,ev);}else if(DayPilotScheduler.range){var $u=DayPilotScheduler.range;DayPilotScheduler.rangeHold=$u;var $f=$u.calendar;DayPilotScheduler.range=null;var $v=$f.getSelection($u);$f.timeRangeSelectedDispatch($v.start,$v.end,$v.resource);if($f.timeRangeSelectedHandling!=="Hold"&&$f.timeRangeSelectedHandling!=="HoldForever"){$a();}else{DayPilotScheduler.rangeHold=$u;};var ev=ev||window.event;ev.cancelBubble=true;return false;};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor=null;};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createShadow=function($i,$d){var $k=document.createElement('div');$k.setAttribute('unselectable','on');$k.style.position='absolute';$k.style.fontSize='1px';$k.style.border='2px dotted #666666';if($d==='Fill'){$k.style.backgroundColor="#aaaaaa";$k.style.opacity=0.5;$k.style.filter="alpha(opacity=50)";$k.style.border='2px solid #aaaaaa';};var $w=Math.max($i.offsetWidth-4,0);$k.style.width=$w+'px';var $x=Math.max($i.offsetHeight-4,0);$k.style.height=$x+'px';$k.style.left=$i.offsetLeft+'px';$k.style.top=$i.offsetTop+'px';$i.parentNode.appendChild($k);return $k;};DayPilotScheduler.createGShadow=function($d){var $k=document.createElement('div');$k.setAttribute('unselectable','on');$k.style.position='absolute';$k.style.width='100px';$k.style.height='20px';$k.style.border='2px dotted #666666';$k.style.zIndex=101;if($d==='Fill'){$k.style.backgroundColor="#aaaaaa";$k.style.opacity=0.5;$k.style.filter="alpha(opacity=50)";$k.style.border='2px solid #aaaaaa';};document.body.appendChild($k);return $k;};DayPilotScheduler.Scheduler=function(id){var $f=this;this.id=id;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=20;this.clientSide=true;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.debuggingEnabled=false;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.days=1;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=20;this.eventMoveMargin=5;this.eventResizeMargin=5;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.numberFormat="0.00";this.rowHeaderWidth=80;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMinHeight=0;this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=true;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=2;this.treeImageMarginTop=2;this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts=1;this.width='100%';this.eventCorners='Regular';;this.separators=[];this.afterRender=function(){};this.cornerHTML='';this.crosshairLastY=-1;this.crosshairLastX=-1;this.eventClickHandling='Disabled';this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Disabled';this.eventEditHandling='Disabled';this.eventMoveHandling='Disabled';this.eventResizeHandling='Disabled';this.eventRightClickHandling='Disabled';this.resourceHeaderClickHandling='Disabled';this.timeRangeDoubleClickHandling='Disabled';this.timeRangeSelectedHandling='Disabled';this.backendUrl=null;this.onEventMove=function(){};this.onEventResize=function(){};this.debugMessages=[];this.autoRefreshCount=0;this.rows=[];this.timeline=[];this.groupline=[];this.events={};this.elements={};this.elements.events=[];this.elements.cells=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.cache={};this.cache.cells=[];this.cache.timeHeaderGroups=[];this.cache.pixels=[];this.cache.breaks=[];this.clientState={};this.nav={};this.updateView=function($y,$z){var $y=eval("("+$y+")");if($y.BubbleGuid){var $A=$y.BubbleGuid;var $B=this.bubbles[$A];delete this.bubbles[$A];$f.loadingStop();$B.updateView($y.Result.BubbleHTML,$B);return;};if($y.UpdateType==="None"){$f.loadingStop();if($y.Message){$f.message($y.Message,5000);};return;};if($y.VsUpdate){var $C=document.createElement("input");$C.type='hidden';$C.name=$f.id+"_vsupdate";$C.id=$C.name;$C.value=$y.VsUpdate;$f.vsph.innerHTML='';$f.vsph.appendChild($C);};if($y.UpdateType==="Full"){$f.resources=$y.Resources;$f.colors=$y.Colors;$f.palette=$y.Palette;$f.dirtyColors=$y.DirtyColors;$f.cellProperties=$y.CellProperties;$f.separators=$y.Separators;$f.timeHeader=$y.TimeHeader;$f.startDate=$y.StartDate?new DayPilot.Date($y.StartDate):$f.startDate;$f.days=$y.Days?$y.Days:$f.days;$f.cellDuration=$y.CellDuration?$y.CellDuration:$f.cellDuration;$f.cellGroupBy=$y.CellGroupBy?$y.CellGroupBy:$f.cellGroupBy;$f.cellWidth=$y.CellWidth?$y.CellWidth:$f.cellWidth;$f.viewType=$y.ViewType?$y.ViewType:$f.viewType;$f.hourNameBackColor=$y.HourNameBackColor?$y.HourNameBackColor:$f.hourNameBackColor;$f.showNonBusiness=$y.ShowNonBusiness?$y.ShowNonBusiness:$f.showNonBusiness;$f.businessBeginsHour=$y.BusinessBeginsHour?$y.BusinessBeginsHour:$f.businessBeginsHour;$f.businessEndsHour=$y.BusinessEndsHour?$y.BusinessEndsHour:$f.businessEndsHour;if(typeof $y.DynamicLoading!='undefined')$f.dynamicLoading=$y.DynamicLoading;if(typeof $y.TreeEnabled!=='undefined')$f.treeEnabled=$y.TreeEnabled;$f.backColor=$y.BackColor?$y.BackColor:$f.backColor;$f.nonBusinessBackColor=$y.NonBusinessBackColor?$y.NonBusinessBackColor:$f.nonBusinessBackColor;$f.locale=$y.Locale?$y.Locale:$f.locale;$f.timeFormat=$y.TimeFormat?$y.TimeFormat:$f.timeFormat;$f.rowHeaderCols=$y.RowHeaderCols?$y.RowHeaderCols:$f.rowHeaderCols;$f.cornerBackColor=$y.CornerBackColor?$y.CornerBackColor:$f.cornerBackColor;$f.cornerHTML=$y.CornerHTML?$y.CornerHTML:$f.cornerHTML;$f.hashes=$y.Hashes;$f.prepareTimeline();$f.prepareGroupline();$f.calculateCellWidth();$f.loadResources();};$f.events.list=[];$f.loadEvents($y.Events);if(typeof $y.TagFields!=='undefined'){$f.tagFields=$y.TagFields;};if($y.UpdateType==='Full'){$f.drawResHeader();$f.drawTimeHeader();};$f.prepareRowTops();$f.updateRowHeaderHeights();if($f.heightSpec==='Auto'||$f.heightSpec==='Max'){$f.updateHeight();};$f.deleteCells();$f.deleteEvents();$f.deleteSeparators();$f.drawCells();$f.drawSeparators();$f.drawEvents();if($f.timeRangeSelectedHandling!=="HoldForever"){$f.deleteRange();};if($y.UpdateType==="Full"){$f.setScroll($y.ScrollX,$y.ScrollY);$f.saveState();};if($f.todo){if($f.todo.del){var $D=$f.todo.del;$D.parentNode.removeChild($D);$f.todo.del=null;}};$f.afterRender($y.CallBackData,true);$f.loadingStop();$f.startAutoRefresh();if($y.Message){if($f.message){$f.message($y.Message,5000);}}};this.setScroll=function(scrollX,scrollY){var scroll=$f.nav.scroll;var $E=$f.innerHeightTree;var $F=$f.cellCount()*$f.cellWidth;if(scroll.clientWidth+scrollX>$F){scrollX=$F-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$E){scrollY=$E-scroll.clientHeight;};$f.divTimeScroll.scrollLeft=scrollX;$f.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.rounded=function(){return this.eventCorners=='Rounded';};this.message=function($G,$H,$I,$J){if($G===null){return;};var $H=$H||2000;var $I=$I||"#ffffff";var $J=$J||"#000000";var $K=0.8;var top=2*this.headerHeight+1;var $L=this.getTotalRowHeaderWidth()+1;var $M=DayPilot.sw($f.nav.scroll);var $N;if(!this.nav.message){$N=document.createElement("div");$N.style.position="absolute";$N.style.width="100%";$N.style.left="0px";$N.style.textAlign="left";$N.style.top=top+"px";$N.style.opacity=$K;$N.style.filter="alpha(opacity="+($K*100)+")";$N.style.display='none';var $O=document.createElement("div");$O.style.marginLeft=$L+"px";$O.style.marginRight=$M+"px";$O.style.padding="5px";$N.appendChild($O);var close=document.createElement("div");close.style.top="5px";close.style.right=(DayPilot.sw($f.nav.scroll)+5)+"px";close.style.color=$I;close.style.lineHeight="100%";close.style.position="absolute";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";close.onclick=function(){$f.nav.message.style.display='none';};$N.appendChild(close);this.nav.top.appendChild($N);this.nav.message=$N;};var $P=function(){$f.nav.message.style.opacity=$K;var $O=$f.nav.message.firstChild;$O.style.backgroundColor=$J;$O.style.color=$I;$O.innerHTML=$G;var end=function(){$f.messageTimeout=setTimeout($f.hideMessage,$H);};DayPilot.fade($f.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($f.messageTimeout);DayPilot.fade($f.nav.message,-0.2,$P);}else{$P();}};this.hideMessage=function(){var end=function(){$f.nav.message.style.display='none';};DayPilot.fade($f.nav.message,-0.2,end);};this.getLayout=function(){var $Q=/MSIE 6/i.test(navigator.userAgent);if(this.layout==='Auto'){if($Q){return 'TableBased';}else{return 'DivBased';}};return this.layout;};this.updateHeight=function(){if(this.nav.scroll){this.nav.scroll.style.height='20px';var $x=this.getScrollableHeight();this.nav.scroll.style.height=$x+'px';this.scrollRes.style.height=$x+'px';if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($x+2*this.headerHeight)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.innerHeightTree+'px';}}};this.prepareTimeline=function(){this.endDate=(this.viewType==='Resources')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.timeline=[];this.cache.pixels=[];if(this.timeHeader){var $R=this.startDate.getTime();for(var i=0;i<this.timeHeader[1].length;i++){var h=this.timeHeader[1][i];var $S={};$S.start=new DayPilot.Date(h.start);$S.end=new DayPilot.Date(h.end);$S.breakBefore=$S.start.getTime()!==$R;this.timeline.push($S);$R=$S.end.getTime();};return;};var $T=this.startDate;var end=$T.addMinutes(this.cellDuration);var $U=false;while(end.getTime()<=this.endDate.getTime()){if(this.includeCell($T,end)){var $S={};$S.start=$T;$S.end=end;$S.breakBefore=$U;this.timeline.push($S);$U=false;}else{$U=true;};$T=end;end=$T.addMinutes(this.cellDuration);}};this.prepareGroupline=function(){this.groupline=[];var $V=this.endDate;var $W={};var $T=this.startDate;while($T.getTime()<$V.getTime()){var $W={};$W.start=$T;$W.end=this.addGroupSize($W.start);$W.left=this.getPixels($W.start).left;$W.width=this.getPixels($W.end).left-$W.left;if($W.width>0){this.groupline.push($W);};$T=$W.end;}};this.includeCell=function($T,end){if(this.showNonBusiness){return true;};if($T.d.getUTCDay()===0){return false;};if($T.d.getUTCDay()===6){return false;};if(this.cellDuration<60*24){var $X=$T.d.getUTCHours();$X+=$T.d.getUTCMinutes()/60.0;$X+=$T.d.getUTCSeconds()/3600.0;$X+=$T.d.getUTCMilliseconds()/3600000.0;if($X<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($X>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($Y){var $Z=$Y.getTime();var $00=this.cache.pixels[$Z];if($00){return $00;};var $01=null;var $02=221876841600000;if(this.timeline.length===0||$Z<this.timeline[0].start.getTime()){var $y={};$y.cut=false;$y.left=0;$y.boxLeft=$y.left;$y.boxRight=$y.left;return $y;};for(var i=0;i<this.timeline.length;i++){var $03=false;var $W=this.timeline[i];var $04=$W.start.getTime();var $05=$W.end.getTime();if($04<$Z&&$Z<$05){var $06=$Z-$04;var $y={};$y.cut=false;$y.left=i*this.cellWidth+this.ticksToPixels($06);$y.boxLeft=i*this.cellWidth;$y.boxRight=(i+1)*this.cellWidth;break;}else if($04===$Z){var $y={};$y.cut=false;$y.left=i*this.cellWidth;$y.boxLeft=$y.left;$y.boxRight=$y.left;break;}else if($05===$Z){var $y={};$y.cut=false;$y.left=(i+1)*this.cellWidth;$y.boxLeft=$y.left;$y.boxRight=$y.left;break;}else if($Z<$04&&$Z>$02){var $y={};$y.cut=true;$y.left=i*this.cellWidth;$y.boxLeft=$y.left;$y.boxRight=$y.left;break;};$02=$05;};if(!$y){var $y={};$y.cut=true;$y.left=(this.timeline.length)*this.cellWidth;$y.boxLeft=$y.left;$y.boxRight=$y.left;};this.cache.pixels[$Z]=$y;return $y;};this.getPixels2=function($Y){var $y={};if(this.timeline.length<=0){return 0;};var i=0;while($Y.getTime()>this.timeline[i].end.getTime()){i++;if(this.timeline[i]===null){$y.cut=true;$y.left=(this.timeline.length)*this.cellWidth;$y.boxLeft=$y.left;return $y;}};if($Y.getTime()<this.timeline[i].start.getTime()){$y.cut=true;}else{$y.cut=false;};var $L=i*this.cellWidth;$y.boxLeft=$L;$y.boxRight=$y.cut?$L:$L+this.cellWidth;var $06=$Y.getTime()-this.timeline[i].start.getTime();if($06<0){$06=0;};$L+=this.ticksToPixels($06);$y.left=$L;return $y;};this.getDate=function($L,$07,$08){var x=Math.floor($L/this.cellWidth);var $09=($08&&x>0)?x-1:x;if(this.timeline[$09]===null){return null;};var $T=($08&&x>0)?this.timeline[x-1].end:this.timeline[x].start;if(!$07){return $T;}else{var $06=$L%this.cellWidth;return $T.addTime(this.pixelsToTicks($06));}};this.ticksToPixels=function($Z){return Math.floor((this.cellWidth*$Z)/(1000*60*this.cellDuration));};this.pixelsToTicks=function($0a){return Math.floor($0a*(this.cellDuration/this.cellWidth)*60*1000);};this.eventClickPostBack=function(e,$0b){this.postBack2('EventClick',e,$0b);};this.eventClickCallBack=function(e,$0b){this.callBack2('EventClick',e,$0b);};this.eventClickDispatch=function(){var e=this.event;var $0b=this.data;var $N=this;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!$0b.client.doubleClickEnabled()){$f.eventClickSingle($N);return;};if(!$f.timeouts){$f.timeouts=[];};var $0c=function($N){return function(){$f.eventClickSingle($N);};};$f.timeouts.push(window.setTimeout($0c($N),300));};this.eventClickSingle=function($N){var e=$N.event;var $0b=$N.data;if(!$0b.client.clickEnabled()){return;};switch($f.eventClickHandling){case 'PostBack':$f.eventClickPostBack(e);break;case 'CallBack':$f.eventClickCallBack(e);break;case 'JavaScript':$f.onEventClick(e);break;case 'Edit':$f.divEdit($N);break;case 'ContextMenu':if($0b.ContextMenu){var $0d=eval($0b.ContextMenu);if($0d){$0d.show(e);}}else{if($f.contextMenu){$f.contextMenu.show(e);}};break;case 'Bubble':if($f.bubble){$f.bubble.showEvent($f.id,e);};break;}};this.setHScrollPosition=function($0a){this.nav.scroll.scrollLeft=$0a;};this.getHScrollPosition=function(){return this.nav.scroll.scrollLeft;};this.eventRightClickPostBack=function(e,$0b){this.postBack2('EventRightClick',e,$0b);};this.eventRightClickCallBack=function(e,$0b){this.callBack2('EventRightClick',e,$0b);};this.eventRightClickDispatch=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.data.client.rightClickEnabled()){return false;};switch($f.eventRightClickHandling){case 'PostBack':$f.eventRightClickPostBack(e);break;case 'CallBack':$f.eventRightClickCallBack(e);break;case 'JavaScript':$f.onEventRightClick(e);break;case 'ContextMenu':if(this.data.ContextMenu){eval(this.data.ContextMenu+".show(this.event)");}else{if($f.contextMenu){$f.contextMenu.show(this.event);}};break;};return false;};this.eventDoubleClickPostBack=function(e,$0b){this.postBack2('EventDoubleClick',e,$0b);};this.eventDoubleClickCallBack=function(e,$0b){this.callBack2('EventDoubleClick',e,$0b);};this.eventDoubleClickDispatch=function(){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($f.timeouts){for(var $0e in $f.timeouts){window.clearTimeout($f.timeouts[$0e]);};$f.timeouts=null;};var e=this.event;switch($f.eventDoubleClickHandling){case 'PostBack':$f.eventDoubleClickPostBack(e);break;case 'CallBack':$f.eventDoubleClickCallBack(e);break;case 'JavaScript':$f.onEventDoubleClick(e);break;case 'Edit':$f.divEdit(this);break;case 'Bubble':if($f.bubble){$f.bubble.showEvent($f.id,e);};break;}};this.eventResizePostBack=function(e,$r,$s,$0b){this.invokeEventResize("PostBack",e,$r,$s,$0b);};this.eventResizeCallBack=function(e,$r,$s,$0b){this.invokeEventResize("CallBack",e,$r,$s,$0b);};this.invokeEventResize=function($d,e,$r,$s,$0b){var $0f={};$0f.e=e;$0f.newStart=$r;$0f.newEnd=$s;this.invokeEvent($d,"EventResize",$0f,$0b);};this.eventResizeDispatch=function(e,$r,$s){switch($f.eventResizeHandling){case 'PostBack':$f.eventResizePostBack(e,$r,$s);break;case 'CallBack':$f.eventResizeCallBack(e,$r,$s);break;case 'JavaScript':$f.onEventResize(e,$r,$s);break;case 'Notify':$f.eventResizeNotify(e,$r,$s);break;}};this.eventMovePostBack=function(e,$r,$s,$t,$0b){this.invokeEventMove("PostBack",e,$r,$s,$t,$0b);};this.eventMoveCallBack=function(e,$r,$s,$t,$0b){this.invokeEventMove("CallBack",e,$r,$s,$t,$0b);};this.invokeEventMove=function($d,e,$r,$s,$t,$0b){var $0f={};$0f.e=e;$0f.newStart=$r;$0f.newEnd=$s;$0f.newResource=$t;this.invokeEvent($d,"EventMove",$0f,$0b);};this.invokeEvent=function($d,$0g,$0f,$0b){if($d==='PostBack'){this.postBack2($0g,$0f,$0b);}else if($d==='CallBack'){this.callBack2($0g,$0f,$0b,"CallBack");}else if($d==='Notify'){if(this.notifyType()=='Notify'){this.callBack2($0g,$0f,$0b,"Notify");}else{this.queue.add(new DayPilotScheduler.Action(this,$0g,$0f,$0b));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(de,$r,$s,$t,$0b){var e;if(de.recurrent()){e=this.events.findRecurrent(de.recurrentMasterId(),de.start());}else{e=this.events.find(de.value());};if(!e){throw "Event not found, unable to move it:"+de.value();};e.start($r);e.end($s);e.resource($t);e.commit();this.update();this.invokeEventMove("Notify",e,$r,$s,$t,$0b);};this.notifyType=function(){var $d;if(this.notifyCommit=='Immediate'){$d="Notify";}else if(this.notifyCommit=='Queue'){$d="Queue";}else{throw "Invalid notifyCommit value: "+this.notifyCommit;};return $d;};this.eventResizeNotify=function(de,$r,$s,$0b){var e;if(de.recurrent()){e=this.events.findRecurrent(de.recurrentMasterId(),de.start());}else{e=this.events.find(de.value());};if(!e){throw "Event not found, unable to move it:"+de.value();};e.start($r);e.end($s);e.commit();this.update();this.invokeEventResize("Notify",e,$r,$s,$0b);};this.update=function(){this.loadEvents();this.deleteEvents();this.deleteCells();this.drawCells();this.drawEvents();this.prepareRowTops();this.updateRowHeaderHeights();};this.notify=function($0g,$0b){var $0f={};$0f.actions=[];$0f.actions.ignoreToJSON=true;$0f.actions.push($0g);this.callBack2('Notify',$0f,$0b);};this.notifyCommit='Immediate';this.eventMoveDispatch=function(e,$r,$s,$t,external,ev){switch($f.eventMoveHandling){case 'PostBack':$f.eventMovePostBack(e,$r,$s,$t);break;case 'CallBack':$f.eventMoveCallBack(e,$r,$s,$t);break;case 'JavaScript':$f.onEventMove(e,$r,$s,$t,external,ev.ctrlKey,ev.shiftKey);break;case 'Notify':$f.eventMoveNotify(e,$r,$s,$t);break;}};this.eventBubbleCallBack=function(e,$B){var $A=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$A]=$B;var $0f={};$0f.e=e;$0f.guid=$A;this.callBack2("EventBubble",$0f);};this.eventMenuClickPostBack=function(e,$0h,$0b){var $0f={};$0f.e=e;$0f.command=$0h;this.postBack2('EventMenuClick',$0f,$0b);};this.eventMenuClickCallBack=function(e,$0h,$0b){var $0f={};$0f.e=e;$0f.command=$0h;this.callBack2('EventMenuClick',$0f,$0b);};this.eventMenuClick=function($0h,e,$0i){switch($0i){case 'PostBack':$f.eventMenuClickPostBack(e,$0h);break;case 'CallBack':$f.eventMenuClickCallBack(e,$0h);break;}};this.timeRangeSelectedPostBack=function($T,end,$0j,$0b){var $u={};$u.start=$T;$u.end=end;$u.resource=$0j;this.postBack2('TimeRangeSelected',$u,$0b);};this.timeRangeSelectedCallBack=function($T,end,$0j,$0b){var $u={};$u.start=$T;$u.end=end;$u.resource=$0j;this.callBack2('TimeRangeSelected',$u,$0b);};this.timeRangeSelectedDispatch=function($T,end,$0j){switch($f.timeRangeSelectedHandling){case 'PostBack':$f.timeRangeSelectedPostBack($T,end,$0j);break;case 'CallBack':$f.timeRangeSelectedCallBack($T,end,$0j);break;case 'JavaScript':$f.onTimeRangeSelected($T,end,$0j);break;case 'Hold':break;}};this.timeRangeDoubleClickPostBack=function($T,end,$0j,$0b){var $u={};$u.start=$T;$u.end=end;$u.resource=$0j;this.postBack2('TimeRangeDoubleClick',$u,$0b);};this.timeRangeDoubleClickCallBack=function($T,end,$0j,$0b){var $u={};$u.start=$T;$u.end=end;$u.resource=$0j;this.callBack2('TimeRangeDoubleClick',$u,$0b);};this.timeRangeDoubleClickDispatch=function($T,end,$0j){switch($f.timeRangeDoubleClickHandling){case 'PostBack':$f.timeRangeDoubleClickPostBack($T,end,$0j);break;case 'CallBack':$f.timeRangeDoubleClickCallBack($T,end,$0j);break;case 'JavaScript':$f.onTimeRangeDoubleClick($T,end,$0j);break;}};this.timeRangeMenuClickPostBack=function(e,$0h,$0b){var $0f={};$0f.selection=e;$0f.command=$0h;this.postBack2("TimeRangeMenuClick",$0f,$0b);};this.timeRangeMenuClickCallBack=function(e,$0h,$0b){var $0f={};$0f.selection=e;$0f.command=$0h;this.callBack2("TimeRangeMenuClick",$0f,$0b);};this.timeRangeMenuClick=function($0h,e,$0i){switch($0i){case 'PostBack':$f.timeRangeMenuClickPostBack(e,$0h);break;case 'CallBack':$f.timeRangeMenuClickCallBack(e,$0h);break;}};this.resourceHeaderMenuClickPostBack=function(e,$0h,$0b){var $0f={};$0f.resource=e;$0f.command=$0h;this.postBack2("ResourceHeaderMenuClick",$0f,$0b);};this.resourceHeaderMenuClickCallBack=function(e,$0h,$0b){var $0f={};$0f.resource=e;$0f.command=$0h;this.callBack2("ResourceHeaderMenuClick",$0f,$0b);};this.resourceHeaderMenuClick=function($0h,e,$0i){switch($0i){case 'PostBack':$f.resourceHeaderMenuClickPostBack(e,$0h);break;case 'CallBack':$f.resourceHeaderMenuClickCallBack(e,$0h);break;}};this.resourceHeaderClickPostBack=function(e,$0b){var $0f={};$0f.resource=e;this.postBack2("ResourceHeaderClick",$0f,$0b);};this.resourceHeaderClickCallBack=function(e,$0b){var $0f={};$0f.resource=e;this.callBack2("ResourceHeaderClick",$0f,$0b);};this.resourceHeaderClickDispatch=function(e){switch(this.resourceHeaderClickHandling){case 'PostBack':$f.resourceHeaderClickPostBack(e);break;case 'CallBack':$f.resourceHeaderClickCallBack(e);break;case 'JavaScript':$f.onResourceHeaderClick(e);break;}};this.eventEditPostBack=function(e,$0k,$0b){var $0f={};$0f.e=e;$0f.newText=$0k;this.postBack2("EventEdit",$0f,$0b);};this.eventEditCallBack=function(e,$0k,$0b){var $0f={};$0f.e=e;$0f.newText=$0k;this.callBack2("EventEdit",$0f,$0b);};this.eventEditDispatch=function(e,$0k){switch($f.eventEditHandling){case 'PostBack':$f.eventEditPostBack(e,$0k);break;case 'CallBack':$f.eventEditCallBack(e,$0k);break;case 'JavaScript':$f.onEventEdit(e,$0k);break;}};this.commandCallBack=function($0h,$0b){this.invokeCommand("CallBack",$0h,$0b);};this.invokeCommand=function($d,$0h,$0b){var $0f={};$0f.command=$0h;this.invokeEvent($d,"Command",$0f,$0b);};this.postBack2=function($0g,$0l,$0b){var $0m={};$0m.action=$0g;$0m.type="PostBack";$0m.parameters=$0l;$0m.data=$0b;$0m.header=this.getCallBackHeader();var $0n="JSON"+DayPilot.JSON.stringify($0m);__doPostBack($f.uniqueID,$0n);};this.callBack2=function($0g,$0l,$0b,$d){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $d==='undefined'){$d="CallBack";};this.stopAutoRefresh();this.callbackTimeout=window.setTimeout(function(){$f.loadingStart();},100);var $0m={};$0m.action=$0g;$0m.type=$d;$0m.parameters=$0l;$0m.data=$0b;$0m.header=this.getCallBackHeader();var $0o=DayPilot.JSON.stringify($0m);var $0n;if(typeof $0p!=='undefined'&&$0p.compress){$0n="LZJB"+$0p.Base64.encode($0p.compress($0o));}else{$0n="JSON"+$0o;};var $z=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.callBackResponse,$0n,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$0n,this.updateView,$z,this.callbackError,true);}};this.callBackResponse=function($0q){$f.updateView($0q.responseText);};this.getCallBackHeader=function(){var h={};h.control="dps";h.id=this.id;h.startDate=$f.startDate;h.days=$f.days;h.cellDuration=$f.cellDuration;h.cellGroupBy=$f.cellGroupBy;h.cellWidth=$f.cellWidth;h.viewType=$f.viewType;h.hourNameBackColor=$f.hourNameBackColor;h.showNonBusiness=$f.showNonBusiness;h.businessBeginsHour=$f.businessBeginsHour;h.businessEndsHour=$f.businessEndsHour;h.weekStarts=$f.weekStarts;h.treeEnabled=$f.treeEnabled;h.backColor=$f.cellBackColor;h.nonBusinessBackColor=$f.cellBackColorNonBusiness;h.locale=$f.locale;h.tagFields=$f.tagFields;h.clientState=$f.clientState;h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;h.hashes=$f.hashes;var $0r=$f.getArea(h.scrollX,h.scrollY);var $u=$f.getAreaRange($0r);var $0s=$f.getAreaResources($0r);h.rangeStart=$u.start;h.rangeEnd=$u.end;h.resources=$0s;h.dynamicLoading=$f.dynamicLoading;if(this.syncResourceTree){h.tree=this.getTreeState();};return h;};this.getArea=function(scrollX,scrollY){var $0r={};$0r.start={};$0r.end={};$0r.start.x=Math.floor(scrollX/$f.cellWidth);$0r.end.x=Math.floor((scrollX+$f.nav.scroll.clientWidth)/$f.cellWidth);$0r.start.y=$f.getRow(scrollY).i;$0r.end.y=$f.getRow(scrollY+$f.nav.scroll.clientHeight).i;var $0t=this.timeline.length;if($0r.end.x>=$0t){$0r.end.x=$0t-1;};return $0r;};this.getAreaRange=function($0r){var $y={};if(this.timeline.length<=0){$y.start=this.startDate;$y.end=this.startDate;return $y;};if(!this.timeline[$0r.start.x]){throw 'Internal error: area.start.x is null.';};$y.start=this.timeline[$0r.start.x].start;$y.end=this.timeline[$0r.end.x].end;return $y;};this.getAreaResources=function($0r){if(!$0r){var $0r=this.getArea(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $0s=[];$0s.ignoreToJSON=true;for(var i=$0r.start.y;i<=$0r.end.y;i++){var r=$f.rows[i];if(r&&!r.Hidden){$0s.push(r.Value);}};return $0s;};this.getTreeState=function(){var $0u=[];$0u.ignoreToJSON=true;for(var i=0;i<this.rows.length;i++){if(this.rows[i].Level>0){continue;};var $0v=this.getNodeState(i);$0u.push($0v);};return $0u;};this.getNodeChildren=function($0w){var $0x=[];$0x.ignoreToJSON=true;for(var i=0;i<$0w.length;i++){$0x.push(this.getNodeState($0w[i]));};return $0x;};this.getNodeState=function(i){var $p=this.rows[i];var $0v={};$0v.Value=$p.Value;$0v.BackColor=$p.BackColor;$0v.Name=$p.Name;$0v.InnerHTML=$p.InnerHTML;$0v.ToolTip=$p.ToolTip;$0v.Expanded=$p.Expanded;$0v.Children=this.getNodeChildren($p.Children);$0v.Loaded=$p.Loaded;$0v.Columns=this.getNodeColumns($p);if($p.MinHeight!==$f.rowMinHeight){$0v.MinHeight=$p.MinHeight;};if($p.MarginBottom!==$f.rowMarginBottom){$0v.MarginBottom=$p.MarginBottom;};return $0v;};this.getNodeColumns=function($p){if(!$p.Columns||$p.Columns.length===0){return null;};var $0y=[];$0y.ignoreToJSON=true;for(var i=0;i<$p.Columns.length;i++){var c={};c.InnerHTML=$p.Columns[i].InnerHTML;$0y.push(c);};return $0y;};this.$=function($0z){return document.getElementById(id+"_"+$0z);};this.applyCssClass=function($0A){if(this.cssClassPrefix){return this.cssClassPrefix+$0A;}else{return "";}};this.registerDispose=function(){var $0B=document.getElementById(id);$0B.dispose=this.dispose;};this.dispose=function(){var c=$f;c.deleteEvents();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.scrollRes=null;c.vsph=null;c.maind=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.resize);DayPilotScheduler.unregister(c);};this.createShadow=function($b,$i,$d){var $0C=$f.maind;var $0D=$f.getShadowCoords();var $x=$0D.row.Height;var $k=document.createElement('div');$k.setAttribute('unselectable','on');$k.style.position='absolute';$k.style.width=($0D.width-4)+'px';$k.style.height=($x-4)+'px';$k.style.left=$0D.left+'px';$k.style.top=$0D.top+'px';$k.style.border='2px dotted #666666';$k.style.zIndex=101;if($d==='Fill'){$k.style.backgroundColor="#aaaaaa";$k.style.opacity=0.5;$k.style.filter="alpha(opacity=50)";$k.style.border='2px solid #aaaaaa';if($i&&$i.data){$k.style.overflow='hidden';$k.style.fontSize=$i.style.fontSize;$k.style.fontFamily=$i.style.fontFamily;$k.style.color=$i.style.color;$k.innerHTML=$i.data.client.innerHTML();}};$0C.appendChild($k);return $k;};this.getRow=function(y){var $y={};var element;var top=0;var $0E=0;var $0F=this.rows.length;for(var i=0;i<$0F;i++){var $p=this.rows[i];if($p.Hidden){continue;};$0E+=$p.Height;if(y<$0E||i===$0F-1){top=$0E-$p.Height;element=$p;break;}};$y.top=top;$y.bottom=$0E;$y.i=i;$y.element=element;return $y;};this.getRowByIndex=function(i){var top=0;var $0G=0;var $0H=0;if(i>this.rows.length-1){throw "Row index too high (DayPilotScheduler.getRowByIndex)";};for(var j=0;j<=i;j++){var $p=this.rows[j];if($p.Hidden){continue;};$0G+=$p.Height;$0H++;};top=$0G-$p.Height;var $y={};$y.top=top;$y.height=$p.Height;$y.bottom=$0G;$y.i=$0H-1;return $y;};this.loadFromServer=function(){return(typeof this.events.list==='undefined')||(this.events.list===null);};this.events.find=function(id){var $0I=$f.events.list.length;for(var i=0;i<$0I;i++){if($f.events.list[i].value===id){return new DayPilot.Event($f.events.list[i],$f);}};return null;};this.events.findRecurrent=function($0J,$0K){var $0I=$f.events.list.length;for(var i=0;i<$0I;i++){if($f.events.list[i].recurrentMasterId===$0J&&$f.events.list[i].start.getTime()==$0K.getTime()){return new DayPilot.Event($f.events.list[i],$f);}};return null;};this.events.update=function(e,$0b){if(!e.dirty()){throw "Not dirty";};var $0f={};$0f.oldEvent=new DayPilot.Event(e.copy(),$f);$0f.newEvent=new DayPilot.Event(e.temp(),$f);var $0g=new DayPilotScheduler.Action($f,"EventUpdate",$0f,$0b);e.commit();$f.update();return $0g;};this.events.remove=function(e,$0b){var $0f={};$0f.e=new DayPilot.Event(e.data,$f);var $0g=new DayPilotScheduler.Action($f,"EventRemove",$0f,$0b);var $0H=$f.events.list.indexOf(e.data);$f.events.list.splice($0H,1);$f.update();return $0g;};this.events.add=function(e,$0b){e.calendar=$f;$f.events.list.push(e.data);var $0f={};$0f.e=e;var $0g=new DayPilotScheduler.Action($f,"EventAdd",$0f,$0b);$f.update();return $0g;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0g){if(!$0g){return;};if($0g.isAction){$f.queue.list.push($0g);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($0b){var $0f={};$0f.actions=$f.queue.list;$f.callBack2('Notify',$0f,$0b,"Notify");$f.queue.list=[];};this.queue.clear=function(){$f.queue.list=[];};this.queue.pop=function(){return $f.queue.list.pop();};this.debug=function($0L,$0M){if(!this.debuggingEnabled){return;};if(!$f.debugMessages){$f.debugMessages=[];};$f.debugMessages.push($0L);if(typeof $0N!=='undefined'){$0N.log($0L);}};this.getBoxStart=function($Y){if($Y.getTime()===this.startDate.getTime()){return $Y;};var $0O=this.startDate;if($Y.getTime()<this.startDate.getTime()){while($0O.getTime()>$Y.getTime()){$0O=$0O.addMinutes(-this.cellDuration);};return $0O;};if($Y.getTime()>this.startDate.getTime()){while($0O.getTime()<=$Y.getTime()){$0O=$0O.addMinutes(this.cellDuration);};return $0O.addMinutes(-this.cellDuration);};throw "Internal error: Cannot find box start";};this.getShadowCoords=function(){var $p=this.getRow($f.coords.y);var $i=DayPilotScheduler.moving;var e=$i.event;var $b=DayPilot.Date.diff(e.end().d,e.start().d);var $0P=this.useBox($b);var $0Q=e.start().getDatePart();var $0R=($0P)?e.start().getTime()-($0Q.getTime()+Math.floor((e.start().getHours()*60+e.start().getMinutes())/$f.cellDuration)*$f.cellDuration*60*1000):0;var $0S;if(DayPilotScheduler.moveDragStart){$0S=$0P?DayPilotScheduler.moveDragStart.getTime()-this.getBoxStart(e.start()).getTime():DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();$0S=Math.floor(($0S/60000) / this.cellDuration)*(this.cellDuration*60000);}else{$0S=0;};var $T=this.getDate(this.coords.x,true).addTime(-$0S);var $0T=$T;if(this.snapToGrid){$T=this.getBoxStart($T);};$T=$T.addTime($0R);var end=$T.addTime($b);var $0U=$T;var $0V=end;if(this.viewType==='Days'){var $q=this.rows[e.data.DayIndex].Start.getTime()-this.startDate.getTime();var $0U=$T.addTime(-$q);var $0V=$0U.addTime($b);var $0W=$p.element.Start.getTime()-this.startDate.getTime();$T=$0U.addTime($0W);end=$T.addTime($b);};var $0X=this.getPixels($0U);var $0Y=this.getPixels($0V);var $L=($0P)?$0X.boxLeft:$0X.left;var $w=($0P)?($0Y.boxRight-$L):($0Y.left-$L);var $0D={};$0D.top=$p.top+1;$0D.left=$L;$0D.row=$p.element;$0D.rowIndex=$p.i;$0D.width=$w;$0D.start=$T;$0D.end=end;return $0D;};this.moveShadow=function(){var scroll=this.nav.scroll;if(!$f.coords){return;};var $k=DayPilotScheduler.movingShadow;var $0D=this.getShadowCoords();$k.style.top=($0D.top-1)+'px';$k.style.left=$0D.left+'px';$k.style.width=($0D.width-4)+'px';$k.style.height=Math.max($0D.row.Height-4,0)+'px';$k.row=$0D.row;$k.start=$0D.start;$k.end=$0D.end;};this.getTotalRowHeaderWidth=function(){var $0Z=0;if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$0Z+=this.rowHeaderCols[i];}}else{$0Z=this.rowHeaderWidth;};return $0Z;};this.drawResHeader=function(){var parent=this.divResScroll;DayPilot.puc(parent);parent.innerHTML='';var $10=this.rowHeaderCols;var $0y=$10?this.rowHeaderCols.length:0;var $0Z=this.getTotalRowHeaderWidth()-1;var $11=document.createElement("table");$11.style.borderCollapse="collapse";$11.style.KhtmlUserSelect="none";$11.style.MozUserSelect="none";$11.style.width=$0Z+"px";$11.cellspacing="0";$11.cellpadding="0";$11.onmousemove=function(){$f.crosshairHide();$f.stopScroll();};this.divHeader=$11;var m=this.rows.length;for(var i=0;i<m;i++){var $p=this.rows[i];if($p.Hidden){continue;};var r=$11.insertRow(-1);var c=r.insertCell(-1);c.row=$p;c.index=i;var $w=$10?$10[0]-1:this.rowHeaderWidth-1;c.style.width=($w)+"px";c.style.borderRight="1px solid "+this.borderColor;c.style.borderBottom="1px solid "+this.borderColor;c.style.backgroundColor=$p.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';if($p.ToolTip){c.title=$p.ToolTip;};c.unselectable='on';c.setAttribute('resource',$p.Value);c.onmousemove=function(){$f.onResMouseMove(this);};c.onmouseout=function(){$f.onResMouseOut(this);};c.oncontextmenu=$f.onResRightClick;c.onclick=$f.onResClick;var $O=document.createElement("div");$O.style.width=($w)+"px";$O.unselectable='on';$O.className=this.applyCssClass('rowheader');$O.style.height=($p.Height-1)+"px";$O.style.overflow='hidden';$O.style.position='relative';if(this.treeEnabled){var $12=document.createElement("div");$12.style.width="10px";$12.style.height="10px";$12.style.backgroundRepeat="no-repeat";$12.style.position='absolute';$12.style.left=($p.Level*this.treeIndent+this.treeImageMarginLeft)+'px';$12.style.top=this.treeImageMarginTop+"px";if(!$p.Loaded){if(this.treeImageExpand){$12.style.backgroundImage="url('"+this.treeImageExpand+"')";};$12.className=this.applyCssClass('tree_image_expand');$12.style.cursor='pointer';$12.index=i;$12.onclick=function(ev){$f.loadNode(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($p.Children.length>0){if($p.Expanded){if(this.treeImageCollapse){$12.style.backgroundImage="url('"+this.treeImageCollapse+"')";};$12.className=this.applyCssClass('tree_image_collapse');}else{if(this.treeImageExpand){$12.style.backgroundImage="url('"+this.treeImageExpand+"')";};$12.className=this.applyCssClass('tree_image_expand');};$12.style.cursor='pointer';$12.index=i;$12.onclick=function(ev){$f.toggle(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if(this.treeImageNoChildren){$12.style.backgroundImage="url('"+this.treeImageNoChildren+"')";};$12.className=this.applyCssClass('tree_image_no_children');};$O.appendChild($12);};var $c=document.createElement("div");if(this.treeEnabled){$c.style.marginLeft=(($p.Level+1)*this.treeIndent)+'px';}else{$c.style.marginLeft="4px";};$c.innerHTML=$p.InnerHTML;$O.appendChild($c);c.appendChild($O);for(var j=1;j<$0y;j++){var c=r.insertCell(-1);c.row=$p;c.index=i;c.style.borderRight="1px solid "+this.borderColor;c.style.borderBottom="1px solid "+this.borderColor;c.style.backgroundColor=$p.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';if($p.ToolTip){c.title=$p.ToolTip;};c.unselectable='on';c.className=this.applyCssClass('rowheader');c.setAttribute('resource',$p.Value);c.onmousemove=function(){$f.onResMouseMove(this);};c.onmouseout=function(){$f.onResMouseOut(this);};c.oncontextmenu=$f.onResRightClick;c.onclick=$f.onResClick;var $O=document.createElement("div");$O.style.width=($10[j]-1)+"px";$O.style.height=($p.Height-1)+"px";$O.style.overflow='hidden';$O.style.position='relative';var $c=document.createElement("div");$c.style.marginLeft='4px';var $13=$p.Columns[j-1]?$p.Columns[j-1].InnerHTML:"";$c.innerHTML=$13;$O.appendChild($c);c.appendChild($O);}};var r=$11.insertRow(-1);var c=r.insertCell(-1);c.colSpan=$0y+1;c.style.width=$0Z+"px";c.style.height=(parent.clientHeight+20)+"px";c.style.backgroundColor=this.hourNameBackColor;c.style.fontSize="1px";c.style.cursor='default';c.unselectable='on';c.className=this.applyCssClass('rowheader');c.innerHTML="&nbsp;";parent.appendChild($11);};this.onResRightClick=function(){var $p=this.row;var r={};r.type='resource';r.start=$p.Start;r.name=$p.Name;r.value=$p.Value;r.index=this.index;r.root=$f;r.toJSON=function($14){var $0o={};$0o.start=this.start;$0o.name=this.name;$0o.value=this.value;$0o.index=this.index;return $0o;};if($p.contextMenu){$p.contextMenu.show(r);};return false;};this.onResClick=function(ev){var $p=this.row;var r={};r.type='resource';r.start=$p.Start;r.name=$p.Name;r.value=$p.Value;r.index=this.index;r.root=$f;r.toJSON=function($14){var $0o={};$0o.start=this.start;$0o.name=this.name;$0o.value=this.value;$0o.index=this.index;return $0o;};$f.resourceHeaderClickDispatch(r);};this.loadEvents=function($15){var $16=[];if($15&&this.dynamicLoading){var $17=$15;var $0M=[];for(var i=0;i<$17.length;i++){var e=$17[i];var $03=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.value===e.value){this.events.list[j]=e;$03=true;break;}};if(!$03){$0M.push(e);}};this.events.list=this.events.list.concat($0M);}else if($15){this.events.list=$15;};var $18=this.events.list.length;var $19=this.viewType==='Resources';for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];$p.events=[];$p.lines=[];var $1a=new DayPilot.Date($p.Start);var $1b=$1a.getTime();var $0E=$19?$1a.addDays(this.days):$1a.addDays(1);var $1c=$0E.getTime();var $q=$p.Start.getTime()-this.startDate.getTime();for(var j=0;this.events.list&&j<$18;j++){if($16[j]){continue;};var e=this.events.list[j];var $T=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);var $1d=$T.getTime();var $1e=end.getTime();if($1e<$1d){continue;};var $1f=false;if($19){$1f=($p.Value===e.resource||$p.Value==="*")&&!($1e<=$1b||$1d>=$1c);}else{$1f=!($1e<=$1b||$1d>=$1c);};if($1f){var ep=new DayPilot.Event(e,$f);ep.part.dayIndex=i;ep.part.start=$1b<$1d?ep.start():$1a;ep.part.end=$1c>$1e?ep.end():$0E;var $1g=this.getPixels(ep.part.start.addTime(-$q));var $1h=this.getPixels(ep.part.end.addTime(-$q));var $L=$1g.left;var $M=$1h.left;if($L===$M&&($1g.cut||$1h.cut)){continue;};ep.part.box=this.useBox($1e-$1d);if(ep.part.box){var $1i=$1h.boxRight;ep.part.left=Math.floor($L/this.cellWidth)*this.cellWidth;ep.part.width=Math.max(Math.ceil($1i/this.cellWidth)*this.cellWidth-ep.part.left-2,this.cellWidth-2);ep.part.barLeft=Math.max($L-ep.part.left-1,0);ep.part.barWidth=Math.max($M-$L-1,1);}else{ep.part.left=$L;ep.part.width=Math.max($M-$L-2,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($M-$L-1,1);};$p.events.push(ep);if(ep.part.start.getTime()===$1d&&ep.part.end.getTime()===$1e){$16[j]=true;}}}};for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];if(this.sortDirections){$p.events.sort(this.eventComparerCustom);}else{$p.events.sort(this.eventComparer);};for(var j=0;j<$p.events.length;j++){var e=$p.events[j];$p.putIntoLine(e,i);}};for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];$p.Height=$p.height()+$p.MarginBottom;}};this.useBox=function($1j){if(this.useEventBoxes==='Always'){return true;};if(this.useEventBoxes==='Never'){return false;};return $1j<this.cellDuration*60*1000;};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $1k=a.start().getTime()-b.start().getTime();if($1k!==0){return $1k;};var $1l=b.end().getTime()-a.end().getTime();return $1l;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $f.eventComparer(a,b);};var $y=0;var i=0;while($y===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$y=0;}else{$y=$f.stringComparer(a.data.sort[i],b.data.sort[i],$f.sortDirections[i]);};i++;};return $y;};this.stringComparer=function(a,b,$1m){var $1n=($1m!=="desc");var $1o=$1n?-1:1;var $1p=-$1o;if(a===null&&b===null){return 0;};if(b===null){return $1p;};if(a===null){return $1o;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$1o:$1p;};this.loadResources=function(){this.rows=[];var $0H={};$0H.i=0;this.loadResourceChildren(this.resources,$0H,0,null,this.treeEnabled,false);};this.loadResourceChildren=function($1q,$0H,$1r,parent,$1s,$1t){if(!$1q){return;};for(var i=0;i<$1q.length;i++){var $0s=$1q[i];var $p={};$p.BackColor=$0s.BackColor;$p.Expanded=$0s.Expanded;$p.Name=$0s.Name;$p.InnerHTML=$0s.InnerHTML?$0s.InnerHTML:$0s.Name;$p.MinHeight=typeof $0s.MinHeight!='undefined'?$0s.MinHeight:$f.rowMinHeight;$p.MarginBottom=typeof $0s.MarginBottom!='undefined'?$0s.MarginBottom:$f.rowMarginBottom;$p.Loaded=$0s.Loaded;$p.Value=$0s.Value;$p.ToolTip=$0s.ToolTip;$p.Children=[];$p.Columns=[];$p.Start=$0s.Start?new DayPilot.Date($0s.Start):this.startDate;$p.contextMenu=$0s.ContextMenu?$0s.ContextMenu:this.contextMenuResource;$p.Height=this.eventHeight;$p.Hidden=$1t;$p.Level=$1r;$p.Index=$0H.i;$p.lines=[];$p.isRow=true;$p.height=function(){var $1u=Math.max(1,this.lines.length);var $x=$1u*$f.eventHeight+this.MarginBottom;return($x>this.MinHeight)?$x:this.MinHeight;};$p.putIntoLine=function(ep,$p){var $1v=this;for(var i=0;i<this.lines.length;i++){var $1w=this.lines[i];if($1w.isFree(ep.part.left,ep.part.width)){$1w.push(ep);return i;}};var $1w=[];$1w.isFree=function($1x,$1y){var end=$1x+$1y-1;var $1z=this.length;for(var i=0;i<$1z;i++){var e=this[i];if(!(end<e.part.left||$1x>e.part.left+e.part.width-1)){return false;}};return true;};$1w.push(ep);this.lines.push($1w);return this.lines.length-1;};this.rows.push($p);if(parent!==null){parent.Children.push($0H.i);};if($0s.Columns){for(var j=0;j<$0s.Columns.length;j++){$p.Columns.push($0s.Columns[j]);}};$0H.i++;if($1s&&$0s.Children){var $1A=$1t||!$p.Expanded;this.loadResourceChildren($0s.Children,$0H,$1r+1,$p,true,$1A);}}};this.drawTop=function(){this.nav.top=document.getElementById(this.id);this.nav.top.innerHTML="";this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.width=this.width?this.width:'100%';if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;}};var $1B=this.getTotalRowHeaderWidth();var $1C=this.getLayout();if($1C==='DivBased'){var $L=document.createElement("div");$L.style.cssFloat="left";$L.style.styleFloat="left";$L.style.width=($1B)+"px";$L.appendChild(this.drawCorner());$L.appendChild(this.drawResourceHeader());var $M=document.createElement("div");$M.style.marginLeft=($1B+1)+"px";$M.style.marginRight='1px';$M.style.position='relative';$M.appendChild(this.drawTimeHeaderDiv());$M.appendChild(this.drawMainContent());this.nav.top.appendChild($L);this.nav.top.appendChild($M);}else{var $11=document.createElement("table");$11.cellPadding=0;$11.cellSpacing=0;$11.border=0;$11.style.position='absolute';$11.style.backgroundColor=this.hourNameBackColor;var $1D=$11.insertRow(-1);var $1E=$1D.insertCell(-1);$1E.appendChild(this.drawCorner());var $1F=$1D.insertCell(-1);$1F.appendChild(this.drawTimeHeaderDiv());var $1G=$11.insertRow(-1);var $1H=$1G.insertCell(-1);$1H.appendChild(this.drawResourceHeader());var $1I=$1G.insertCell(-1);$1I.appendChild(this.drawMainContent());this.nav.top.appendChild($11);};this.vsph=document.createElement("div");this.vsph.style.display="none";this.nav.top.appendChild(this.vsph);var $1J=document.createElement("input");$1J.type="hidden";$1J.id=this.id+"_state";$1J.name=this.id+"_state";this.nav.top.appendChild($1J);var loading=document.createElement("div");loading.style.position='absolute';loading.style.left='0px';loading.style.top='0px';loading.style.left=(this.getTotalRowHeaderWidth()+5)+"px";loading.style.top=(this.headerHeight*2+5)+"px";loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';loading.innerHTML=this.loadingLabelText;loading.style.display='none';this.nav.loading=loading;this.nav.top.appendChild(loading);};this.drawCorner=function(){var $1B=this.getTotalRowHeaderWidth();var $N=document.createElement("div");$N.style.width=$1B+"px";$N.style.borderRight="1px solid "+this.borderColor;$N.style.borderTop="1px solid "+this.borderColor;$N.style.backgroundColor=this.hourNameBackColor;$N.style.fontFamily=this.hourFontFamily;$N.style.fontSize=this.hourFontSize;$N.style.cursor='default';$N.style.overflow='hidden';$N.style.position='relative';$N.className=this.applyCssClass('corner');$N.unselectable='on';$N.onmousemove=function(){$f.crosshairHide();$f.stopScroll();};$N.oncontextmenu=function(){return false;};var $O=document.createElement("div");$O.style.width=($1B-1)+"px";$O.style.height=(2*this.headerHeight-1)+"px";$O.style.borderLeft="1px solid "+this.borderColor;this.divCorner=$O;$O.innerHTML='&nbsp;';$N.appendChild($O);var $1K=document.createElement("div");$1K.style.position='absolute';$1K.style.padding='2px';$1K.style.top='0px';$1K.style.left='1px';$1K.style.backgroundColor="#FF6600";$1K.style.color="white";$1K.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$N.appendChild($1K);return $N;};this.getTotalHeaderHeight=function(){return 2*this.headerHeight;};this.drawResourceHeader=function(){var $N=document.createElement("div");$N.style.border="1px solid "+this.borderColor;$N.style.backgroundColor=this.hourNameBackColor;$N.style.width=(this.getTotalRowHeaderWidth()-1)+"px";$N.style.height=this.getScrollableHeight()+"px";$N.style.overflow='hidden';$N.style.position='relative';$N.onmousemove=function(){$f.crosshairHide();$f.stopScroll();};$N.oncontextmenu=function(){return false;};this.divResScroll=$N;this.scrollRes=$N;return $N;};this.setRightColWidth=function($N){if(this.getLayout()==='TableBased'){var $w=parseInt(this.width,10);var $1L=(this.width.indexOf("%")!==-1);var $1M=/MSIE/i.test(navigator.userAgent);var $1B=this.getTotalRowHeaderWidth();if($1L){if(this.nav.top&&this.nav.top.offsetWidth>0){$N.style.width=(this.nav.top.offsetWidth-6-$1B)+"px";}}else{$N.style.width=($w-$1B)+"px";}}};this.resize=function(){if($f.getLayout()==='TableBased'){$f.setRightColWidth($f.nav.scroll);$f.setRightColWidth($f.divTimeScroll);};if($f.heightSpec==="Parent100Pct"){$f.setHeight(parseInt($f.nav.top.clientHeight,10));};$f.updateHeight();if($f.cellWidthSpec==='Auto'){$f.calculateCellWidth();$f.drawTimeHeader();$f.drawCells();}};this.calculateCellWidth=function(){if(this.cellWidthSpec!=='Auto'){return;};var $1N=this.nav.top.clientWidth;var $1O=this.getTotalRowHeaderWidth();var $1P=$1N-$1O;var $W=$1P/this.cellCount();this.cellWidth=Math.floor($W);};this.drawTimeHeaderDiv=function(){var $N=document.createElement("div");$N.style.overflow='hidden';$N.style.backgroundColor=this.hourNameBackColor;$N.style.borderRight="1px solid "+this.borderColor;$N.style.position='absolute';$N.style.display='block';$N.style.top="0px";$N.style.width="100%";$N.onmousemove=function(){$f.crosshairHide();$f.stopScroll();if($f.cellBubble){$f.cellBubble.delayedHide();}};this.setRightColWidth($N);this.divTimeScroll=$N;var $O=document.createElement("div");$O.style.borderTop="1px solid "+this.borderColor;$O.style.width=(this.cellCount()*this.cellWidth+5000)+"px";$O.style.height=(this.headerHeight*2)+"px";this.divNorth=$O;$N.appendChild($O);return $N;};this.getScrollableHeight=function(){var $x;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{if(this.innerHeightTree){var $1Q=DayPilot.sh($f.nav.scroll);if($1Q===0){$x=this.innerHeightTree;}else{$x=this.innerHeightTree+$1Q;}}else{$x=this.rows.length*this.eventHeight;}};if(this.heightSpec==='Max'&&$x>this.height){return this.height;};return $x;};this.findGrouplineX=function($L){for(var i=0;i<this.groupline.length;i++){var $W=this.groupline[i];if($L>=$W.left&&$L<$W.left+$W.width){return i;}};return this.groupline.length-1;};this.out=function(){this.crosshairHide();this.stopScroll();};this.drawMainContent=function(){var $N=document.createElement("div");$N.style.overflow="auto";$N.style.overflowX="auto";$N.style.overflowY="auto";$N.style.position="absolute";$N.style.height=this.getScrollableHeight()+"px";$N.style.top=this.getTotalHeaderHeight()+"px";$N.style.width="100%";$N.style.borderRight="1px solid "+this.borderColor;$N.style.borderBottom="1px solid "+this.borderColor;$N.style.borderTop="1px solid "+this.borderColor;$N.style.backgroundColor=this.emptyBackColor;$N.oncontextmenu=function(){return false;};this.setRightColWidth($N);this.nav.scroll=$N;this.maind=document.createElement("div");this.maind.style.MozUserSelect="none";this.maind.style.KhtmlUserSelect="none";this.maind.style.backgroundColor=this.cellBorderColor;this.maind.style.position='absolute';this.maind.style.width=(this.cellCount()*this.cellWidth)+"px";this.maind.unselectable="on";this.maind.onmousedown=this.onMaindMouseDown;this.maind.onmousemove=this.onMaindMouseMove;this.maind.oncontextmenu=this.onMaindRightClick;this.maind.ondblclick=this.onMaindDblClick;this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.maind.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.onmouseup=this.onMaindClick;this.divCells.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divSeparators);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.maind.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.onmouseup=this.onMaindClick;this.divRange.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.maind.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.onMaindRightClick;this.maind.appendChild(this.divSeparatorsAbove);$N.appendChild(this.maind);return $N;};this.loadingStart=function(){if(this.loadingLabelVisible){$f.nav.loading.innerHTML=this.loadingLabelText;$f.nav.loading.style.display='';}};this.loadingStop=function($0L){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if($0L){this.nav.loading.innerHTML=$0L;window.setTimeout(function(){$f.loadingStop();},1000);}else{this.nav.loading.style.display='none';}};this.prepareVariables=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.shortInit=function(){this.prepareVariables();this.loadResources();this.drawTop();this.resize();this.registerGlobalHandlers();this.registerDispose();DayPilotScheduler.register(this);this.afterRender(null,false);this.registerOnScroll();this.startAutoRefresh();this.callBack2('Init');};this.Init=function(){var $1R=this.loadFromServer();var $1S=this.events.list!==null;if($1R){this.shortInit();return;};this.prepareVariables();this.prepareTimeline();this.prepareGroupline();this.loadResources();this.drawTop();this.resize();this.calculateCellWidth();this.drawTimeHeader();this.loadingStart();if($1S){this.loadEvents();}else{this.events.list=[];};this.prepareRowTops();this.drawResHeader();this.updateHeight();this.drawSeparators();this.registerGlobalHandlers();this.registerDispose();DayPilotScheduler.register(this);this.afterRender(null,false);this.registerOnScroll();this.loadingStop();if(!$1R){$f.setScroll($f.scrollX,$f.scrollY);if(!$f.onScrollCalled){this.onScroll();}};if(this.messageHTML){this.message(this.messageHTML,5000);};this.startAutoRefresh();};this.startAutoRefresh=function($1T){if($1T){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.stopAutoRefresh();var $1U=this.autoRefreshInterval;if(!$1U||$1U<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$f.doRefresh();},this.autoRefreshInterval*1000);};this.stopAutoRefresh=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.doRefresh=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$f.doRefresh();},this.autoRefreshInterval*1000);}};this.registerGlobalHandlers=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.re(window,'unload',DayPilotScheduler.gUnload);};DayPilot.re(window,'resize',this.resize);};this.registerOnScroll=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.onScroll;$f.scrollPos=this.nav.scroll.scrollLeft;$f.scrollTop=this.nav.scroll.scrollTop;$f.scrollWidth=this.divNorth.clientWidth;};this.saveState=function(){var $T=new Date();var $1V={};$1V.scrollX=this.nav.scroll.scrollLeft;$1V.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$1V.tree=this.getTreeState();};this.$("state").value=DayPilot.JSON.stringify($1V);var end=new Date();};this.drawSeparators=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.drawSeparator(i);}};this.drawEvents=function($1W){var $1X=10;this.divEvents.style.display='none';var $1Y=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $0G=top+this.nav.scroll.clientHeight;if(this.clientSide){for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];var $1Z=$p.Top-this.dynamicEventRenderingMargin;var $20=$1Z+$p.Height+2*this.dynamicEventRenderingMargin;if($1Y&&($0G<=$1Z||top>=$20)){continue;};for(var j=0;j<$p.lines.length;j++){var $1w=$p.lines[j];for(var k=0;k<$1w.length;k++){var e=$1w[k];if(!e.part.top){e.part.top=j*this.eventHeight;e.part.height=this.eventHeight-2;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;};var $21=this.drawEvent(e);if($1W&&$21){$1X--;if($1X<=0){window.setTimeout(function(){$f.drawEvents($1W);},0);return;}}}}}}else{var $22=this.events.list.length;for(var i=0;i<$22;i++){this.drawEvent(this.events.list[i]);}};this.divEvents.style.display='';this.loadingStop();};this.deleteEvents=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $N=this.elements.events[i];this.deleteEvent($N);}};this.elements.events=[];};this.deleteEvent=function($N){$N.onclick=null;$N.oncontextmenu=null;$N.onmouseover=null;$N.onmouseout=null;$N.onmousemove=null;$N.onmousedown=null;$N.ondblclick=null;$N.event=null;$N.data.rendered=null;$N.data=null;$N.parentNode.removeChild($N);};this.deleteOldEvents=function($23){if(!$23){$23=0;};if(this.dynamicEventRendering!=='Progressive'){return;};var $T=new Date();this.divEvents.style.display='none';var $24=[];var $25=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $N=this.elements.events[i];if(this.oldEvent($N.data)){if($23>0){$23--;$24.unshift($N);}else{this.deleteEvent($N);$25++;}}else{$24.unshift($N);}};this.elements.events=$24;var end=new Date();var $b=end.getTime()-$T.getTime();this.divEvents.style.display='';};this.deleteSeparators=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $N=this.elements.separators[i];DayPilot.pu($N);$N.parentNode.removeChild($N);}};this.elements.separators=[];};this.hiddenEvents=function(){var $1Y=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $0G=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];var $1Z=$p.Top;var $20=$p.Top+$p.Height;if($1Y&&($0G<=$1Z||top>=$20)){continue;};for(var j=0;j<$p.lines.length;j++){var $1w=$p.lines[j];for(var k=0;k<$1w.length;k++){var e=$1w[k];if(this.hiddenEvent(e)){return true;}}}};return false;};this.hiddenEvent=function($0b){if($0b.rendered){return false;};var $1Y=this.dynamicEventRendering==='Progressive';var $L=this.nav.scroll.scrollLeft;var $M=$L+this.nav.scroll.clientWidth;var $26=$0b.Left;var $27=$0b.Left+$0b.Width;if($1Y&&($M<=$26||$L>=$27)){return false;};return true;};this.oldEvent=function($0b){if(!$0b.rendered){return true;};var top=this.nav.scroll.scrollTop;var $0G=top+this.nav.scroll.clientHeight;var $L=this.nav.scroll.scrollLeft;var $M=$L+this.nav.scroll.clientWidth;var $26=$0b.Left;var $27=$0b.Right;var $28=$0b.FullTop;var $29=$0b.FullBottom;if($M<=$26||$L>=$27){return true;};if($0G<=$28||top>=$29){return true;};return false;};this.drawEvent=function($0b){if($0b.rendered){return false;};var $1Y=this.dynamicEventRendering==='Progressive';var $L=this.nav.scroll.scrollLeft-this.dynamicEventRenderingMargin;var $M=$L+this.nav.scroll.clientWidth+2*this.dynamicEventRenderingMargin;var $26=$0b.part.left;var $27=$0b.part.left+$0b.part.width;if($1Y&&($M<=$26||$L>=$27)){return false;};var $2a=$0b.part.dayIndex;var $w=($f.eventBorderVisible?$0b.part.width:$0b.part.width+1);var $x=($f.eventBorderVisible?$0b.part.height:$0b.part.height+1);var $p=this.rows[$2a];if($p.Hidden){return false;};var $1Z=$p.Top;var $N=document.createElement("div");$N.data=$0b;$N.style.position='absolute';$N.style.left=$0b.part.left+'px';$N.style.top=($1Z+$0b.part.top)+'px';$N.style.width=$w+'px';$N.style.height=$x+'px';if($f.eventBorderVisible){$N.style.border='1px solid '+this.eventBorderColor;};$N.style.backgroundColor=$0b.client.backColor();$N.style.whiteSpace='nowrap';$N.style.fontSize=this.eventFontSize;$N.style.overflow='hidden';$N.style.cursor='default';$N.style.fontFamily=this.eventFontFamily;$N.style.color=$0b.data.fontColor||this.eventFontColor;$N.className=$0b.client.cssClass()?$0b.client.cssClass():this.applyCssClass("event");$N.unselectable='on';if(this.showToolTip){$N.title=$0b.client.toolTip();};if($0b.data.backgroundImage&&!this.durationBarVisible){$N.style.backgroundImage="url("+$0b.data.backgroundImage+")";if($0b.data.backgroundRepeat){$N.style.backgroundRepeat=$0b.data.backgroundRepeat;}};if(this.rounded()){$N.style.MozBorderRadius="5px";$N.style.webkitBorderRadius="5px";$N.style.borderRadius="5px";};$N.onmousemove=this.onEventMouseMove;$N.onmousedown=this.onEventMouseDown;if($0b.client.clickEnabled()){$N.onclick=this.eventClickDispatch;};if($0b.client.doubleClickEnabled()){$N.ondblclick=this.eventDoubleClickDispatch;};$N.oncontextmenu=this.eventRightClickDispatch;if(this.bubble&&this.eventHoverHandling==='Bubble'){$N.onmouseover=function(){$f.bubble.showEvent($f.id,this.event);};$N.onmouseout=function(){$f.bubble.hideOnMouseOut();};};var $2b=[];var $2c=0;if($f.durationBarVisible){$2c=$f.durationBarHeight;$2b.push("<div unselectable='on' style='left:0px;background-color:white;width:");$2b.push($0b.part.barLeft);$2b.push("px;height:2px;font-size:1px;position:absolute'></div>");$2b.push("<div unselectable='on' style='left:");$2b.push($0b.part.barLeft+$0b.part.barWidth);$2b.push("px;background-color:white;width:");$2b.push($w-($0b.part.barLeft+$0b.part.barWidth));$2b.push("px;height:2px;font-size:1px;position:absolute'></div>");$2b.push("<div unselectable='on' style='width:");$2b.push($0b.part.barWidth);$2b.push("px;margin-left:");$2b.push($0b.part.barLeft);$2b.push("px;height:");$2b.push($2c-1);$2b.push("px;background-color:");$2b.push($0b.client.barColor());if($0b.data.durationBarImageUrl){$2b.push(";background-image:url(");$2b.push($0b.data.durationBarImageUrl);$2b.push(")");};$2b.push(";font-size:1px;position:relative'></div>");$2b.push("<div unselectable='on' style='width:");$2b.push($w);$2b.push("px;height:1px;background-color:");$2b.push(this.eventBorderColor);$2b.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$2b.push("<div unselectable='on' style='padding-left:1px;width:");$2b.push($w-1);$2b.push("px;height:");$2b.push($x-$2c);$2b.push("px;");if($f.rtl){$2b.push("direction:rtl;");};if($0b.data.backgroundImage&&this.durationBarVisible){$2b.push("background-image:url(");$2b.push($0b.data.backgroundImage);$2b.push(");");if($0b.data.backgroundRepeat){$2b.push("background-repeat:");$2b.push($0b.data.backgroundRepeat);$2b.push(";");}};$2b.push("'>");$2b.push($0b.client.innerHTML());$2b.push("</div>");$N.innerHTML=$2b.join('');this.elements.events.push($N);this.divEvents.appendChild($N);$0b.rendered=true;$N.event=$0b;if($f.afterEventRender){$f.afterEventRender($N.event,$N);};return true;};this.onEventMouseMove=function(ev){if($f.cellBubble){$f.cellBubble.delayedHide();};$f.eventUpdateCursor(this,ev);ev=ev||window.event;if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.onEventMouseDown=function(ev){$f.crosshairHide();$f.stopScroll();ev=ev||window.event;var $2d=ev.which||ev.button;if((this.style.cursor==='w-resize'||this.style.cursor==='e-resize')&&$2d===1){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.originalWidth=this.offsetWidth;DayPilotScheduler.originalLeft=this.offsetLeft;DayPilotScheduler.resizingShadow=DayPilotScheduler.createShadow(this,$f.shadow);document.body.style.cursor=this.style.cursor;this.onclickSave=this.onclick;this.onclick=null;}else if(this.style.cursor==='move'&&$2d===1){var mv=this;if($f.dragOutAllowed){DayPilotScheduler.moving=mv;}else{DayPilotScheduler.moving=mv;};DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.originalLeft=this.offsetLeft;DayPilotScheduler.originalTop=this.offsetTop;DayPilotScheduler.moveOffsetX=DayPilot.mo2(this,ev).x;DayPilotScheduler.moveDragStart=$f.getDate($f.coords.x,true);var $b=mv.offsetWidth/$f.cellWidth*$f.cellDuration*60;DayPilotScheduler.movingShadow=$f.createShadow($b,this,$f.shadow);$f.moveShadow();document.body.style.cursor='move';this.onclickSave=this.onclick;this.onclick=null;}else{if(this.onclickSave){this.onclick=this.onclickSave;}};ev.cancelBubble=true;return false;};this.eventUpdateCursor=function($N,ev){var $2e=this.eventResizeMargin;var $2f=this.eventMoveMargin;var $i=$N;if(typeof(DayPilotScheduler)==='undefined'){return;};var $06=DayPilot.mo($N,ev);if(!$06)return;$f.eventOffset=$06;if(DayPilotScheduler.resizing){return;};var $2g=$N.getAttribute("dpStart")===$N.getAttribute("dpPartStart");var $2h=$N.getAttribute("dpEnd")===$N.getAttribute("dpPartEnd");if($06.y<=$2f&&$i.data.client.moveEnabled()&&$f.eventMoveHandling!=='Disabled'){if($2g){$N.style.cursor='move';}else{$N.style.cursor='not-allowed';}}else if($06.x<=$2e&&$i.data.client.resizeEnabled()&&$f.eventResizeHandling!=='Disabled'){if($2g){$N.style.cursor="w-resize";$N.dpBorder='left';}else{$N.style.cursor='not-allowed';}}else if($N.offsetWidth-$06.x<=$2e&&$i.data.client.resizeEnabled()&&$f.eventResizeHandling!=='Disabled'){if($2h){$N.style.cursor="e-resize";$N.dpBorder='right';}else{$N.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($i.data.client.clickEnabled()&&$f.eventClickHandling!=='Disabled'){$N.style.cursor='pointer';}else{$N.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$f.bubble&&$f.eventHoverHandling==='Bubble'){if($N.style.cursor==='default'||$N.style.cursor==='pointer'){$f.bubble.showEvent($f.id,$N.event);}else{DayPilotBubble.hideActive();}}};this.cellCount=function(){if(this.viewType==='Resources'){return this.timeline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.getSelection=function($u){var $p=$f.rows[$u.start.y];var $0j=$p.Value;var $2i=$u.end.x>$u.start.x?$u.start.x:$u.end.x;var $2j=($u.end.x>$u.start.x?$u.end.x:$u.start.x);var $q=$p.Start.getTime()-this.startDate.getTime();var $T=this.timeline[$2i].start.addTime($q);var end=this.timeline[$2j].end.addTime($q);return new DayPilot.Selection($T,end,$0j,$f);};this.createEdit=function($i){var $2k=$i.parentNode;var $2l=document.createElement('textarea');$2l.style.position='absolute';$2l.style.width=(($i.offsetWidth<100)?100:($i.offsetWidth-2))+'px';$2l.style.height=($i.offsetHeight-2)+'px';$2l.style.fontFamily=DayPilot.gs($i,'fontFamily')+DayPilot.gs($i,'font-family');$2l.style.fontSize=DayPilot.gs($i,'fontSize')+DayPilot.gs($i,'font-size');$2l.style.left=$i.offsetLeft+'px';$2l.style.top=$i.offsetTop+'px';$2l.style.border='1px solid black';$2l.style.padding='0px';$2l.style.marginTop='0px';$2l.style.backgroundColor='white';$2l.value=DayPilot.tr($i.event.text());$2l.event=$i.event;$2k.appendChild($2l);return $2l;};this.divEdit=function($i){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $2l=this.createEdit($i);DayPilotScheduler.editing=$2l;$2l.onblur=function(){var $2m=$i.event.text();var $0k=$2l.value;DayPilotScheduler.editing=null;if($2l.parentNode){$2l.parentNode.removeChild($2l);};if($2m===$0k){return;};$i.style.display='none';$f.eventEditDispatch($i.event,$0k);};$2l.onkeypress=function(e){var $2n=(window.event)?event.keyCode:e.keyCode;if($2n===13){this.onblur();return false;}else if($2n===27){$2l.parentNode.removeChild($2l);DayPilotScheduler.editing=false;};return true;};$2l.select();$2l.focus();};this.onResMouseMove=function(td){if(typeof(DayPilotBubble)!=='undefined'){if($f.cellBubble){$f.cellBubble.hideOnMouseOut();};if($f.resourceBubble){$f.resourceBubble.showResource($f.id,td.getAttribute("resource"));}}};this.onResMouseOut=function(){if(typeof(DayPilotBubble)!=='undefined'&&$f.resourceBubble){$f.resourceBubble.hideOnMouseOut();}};this.onCellMouseOut=function(){if(typeof(DayPilotBubble)!=='undefined'&&$f.cellBubble){$f.cellBubble.hideOnMouseOut();}};this.updateHeaders=function(){var $O=[];$O.push("<table cellspacing='0' cellpadding='0' style='color:");$O.push($f.headerFontColor);$O.push(";'><tr>");$O.push($f.row1);$O.push("</tr><tr>");$O.push($f.row2);$O.push("</tr></table>");DayPilot.puc($f.divNorth);$f.divNorth.innerHTML=$O.join('');var $2o=$f.divCorner;$2o.style.backgroundColor=$f.cornerBackColor;$2o.innerHTML=$f.cornerHTML;};this.drawTimeHeader=function(){var $11=document.createElement("table");$11.cellSpacing=0;$11.cellPadding=0;$11.style.color=$f.headerFontColor;$11.style.border="0px none";var $1D=$11.insertRow(-1);this.drawTimeHeaderGroups($1D);var $1G=$11.insertRow(-1);this.drawTimeHeaderCols($1G);var $2p=this.divNorth;DayPilot.puc($2p);$2p.innerHTML='';$2p.appendChild($11);$2p.style.width=(this.cellCount()*this.cellWidth+5000)+"px";var $2o=this.divCorner;$2o.style.backgroundColor=this.cornerBackColor;$2o.innerHTML=this.cornerHTML;this.divStretch.style.width=(this.timeline.length*this.cellWidth)+"px";};this.drawTimeHeaderGroups=function($p){if(this.timeHeader){for(var i=0;i<this.timeHeader[0].length;i++){var $W=this.timeHeader[0][i];if(!$W.toolTip){$W.toolTip=$W.innerHTML;};if(!$W.backColor){$W.backColor=this.hourNameBackColor;};$W.colSpan=$W.width/this.cellWidth;this.drawTimeHeaderCell($p,$W);};return;};for(var i=0;i<this.groupline.length;i++){var g=this.groupline[i];var $G=this.getGroupName(g.start);var $W={};$W.innerHTML=$G;$W.toolTip=$G;$W.start=g.start;$W.end=g.end;$W.type='Group';$W.backColor=this.hourNameBackColor;$W.width=g.width;$W.colSpan=g.width/this.cellWidth;var $2q=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($W):null;if($2q){$W=$2q;};this.drawTimeHeaderCell($p,$W);}};this.getGroupName=function($2r){var $G=null;switch(this.cellGroupBy){case 'Hour':$G=$2r.getHours();break;case 'Day':$G=$2r.toString();break;case 'Week':$G='Week';break;case 'Month':$G=($2r.getMonth()+1)+'/'+$2r.getYear();break;case 'Year':$G=$2r.getYear();break;case 'None':$G='';break;default:throw 'Invalid cellGroupBy value';};return $G;};this.addGroupSize=function($2r){var $2s=this.viewType==='Resources'?this.days:1;var $V=this.startDate.addDays($2s);switch(this.cellGroupBy){case 'Hour':to=$2r.addHours(1);break;case 'Day':to=$2r.addDays(1);break;case 'Week':to=$2r.addDays(1);while(to.dayOfWeek()!==this.weekStarts){to=to.addDays(1);};break;case 'Month':to=$2r.addMonths(1);to=to.firstDayOfMonth();var $2t=(DayPilot.Date.diff(to.d,$2r.d)/(1000.0*60))%this.cellDuration===0;while(!$2t){to=to.addHours(1);$2t=(DayPilot.Date.diff(to.d,$2r.d)/(1000.0*60))%this.cellDuration===0;};break;case 'Year':to=$2r.addYears(1);to=to.firstDayOfYear();var $2t=(DayPilot.Date.diff(to.d,$2r.d)/(1000.0*60))%this.cellDuration===0;while(!$2t){to=to.addHours(1);$2t=(DayPilot.Date.diff(to.d,$2r.d)/(1000.0*60))%this.cellDuration===0;};break;case 'None':to=$V;break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$V.getTime()){to=$V;};return to;};this.drawTimeHeaderCell=function($p,$W){var td=$p.insertCell(-1);td.colSpan=$W.colSpan;td.unselectable="on";td.style.height=(this.headerHeight-1)+"px";td.style.textAlign="center";td.style.backgroundColor=$W.backColor;td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.whiteSpace='nowrap';td.style.overflow='hidden';td.style.width=$W.width+"px";td.style.cursor='default';td.style.padding='0px';td.style.border='0px none';td.className=this.applyCssClass('timeheadergroup');td.oncontextmenu=function(){return false;};var $N=document.createElement("div");$N.unselectable="on";$N.style.height=(this.headerHeight-1)+"px";$N.style.borderRight="1px solid "+this.hourNameBorderColor;$N.style.overflow='hidden';$N.style.width=($W.width-1)+"px";$N.title=$W.toolTip;$N.innerHTML=$W.innerHTML;td.appendChild($N);};this.drawTimeHeaderCols=function($p){var $2u=this.cellCount();var td=document.createElement("td");td.unselectable="on";td.style.borderTop="1px solid "+this.borderColor;td.style.borderBottom="0px none";td.style.borderLeft="0px none";td.style.borderRight="0px none";td.style.width=this.cellWidth+"px";td.style.height=(this.headerHeight-1)+"px";td.style.overflow='hidden';td.style.textAlign='center';td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.cursor='default';td.style.padding='0px';td.className=this.applyCssClass('timeheadercol');var $N=document.createElement("div");$N.unselectable="on";$N.style.height=(this.headerHeight)+"px";$N.style.borderRight="1px solid "+this.hourNameBorderColor;$N.style.width=(this.cellWidth-1)+"px";$N.style.overflow='hidden';$N.style.position='relative';td.appendChild($N);for(var i=0;i<$2u;i++){var $W;if(this.timeHeader){$W=this.timeHeader[1][i];if(!$W.backColor){$W.backColor=this.hourNameBackColor;};if(!$W.toolTip){$W.toolTip=$W.innerHTML;}}else{var c=this.timeline[i];var $G=this.getColName(c.start);var $W={};$W.innerHTML=$G;$W.toolTip=$G;$W.start=c.start;$W.end=c.end;$W.type='Cell';$W.backColor=this.hourNameBackColor;var $2q=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($W):null;if($2q){$W=$2q;}};var $2v=td.cloneNode(true);$2v.style.backgroundColor=$W.backColor;$2v.firstChild.title=$W.toolTip;$2v.firstChild.innerHTML=$W.innerHTML;$2v.oncontextmenu=function(){return false;};$p.appendChild($2v);}};this.getColName=function($2r){var $G=null;if(this.cellDuration<60){$G=$2r.getMinutes();}else if(this.cellDuration<1440){$G=$2r.getHours();}else{$G=$2r.getDay();};return $G;};this.updateRowHeaderHeights=function(){var $1O=this.divHeader;if(!$1O){return;};var $0I=this.rows.length;var $0y=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$0I;i++){var $p=this.rows[i];if($p.Hidden){continue;};for(var c=0;c<$0y;c++){var $2w=$1O.rows[j].cells[c];var $2x=$p.Height-1;if($2w.firstChild&&$2w.firstChild&&parseInt($2w.firstChild.style.height,10)!==$2x){$2w.firstChild.style.height=$2x+"px";}};j++;}};this.drawSeparator=function($0H){var s=this.separators[$0H];var $0K=new DayPilot.Date(s.Location);var $2y=s.Color;var $w=s.Width?s.Width:1;var $2z=s.Layer?s.Layer==='AboveEvents':false;var $K=s.Opacity?s.Opacity:100;if($0K.getTime()<this.startDate.getTime()){return;};if($0K.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $0a=this.getPixels($0K);if($0a.cut){return;};if($0a.left<0){return;};if($0a.left>this.cellCount()*this.cellWidth){return;};var $1w=document.createElement("div");$1w.style.width=$w+'px';$1w.style.height=$f.innerHeightTree+'px';$1w.style.position='absolute';$1w.style.left=$0a.left+'px';$1w.style.top='0px';$1w.style.backgroundColor=$2y;$1w.style.opacity=$K/100;$1w.style.filter="alpha(opacity="+$K+")";if($2z){this.divSeparatorsAbove.appendChild($1w);}else{this.divSeparators.appendChild($1w);};this.elements.separators.push($1w);};this.onMaindDblClick=function(ev){var $u={};if(!$f.coords){var $2A=$f.maind;$f.coords=DayPilot.mo2($2A,ev);};ev=ev||window.event;var $2d=ev.which||ev.button;if($f.isWithinRange($f.coords)){var $v=$f.getSelection(DayPilotScheduler.rangeHold);$f.timeRangeDoubleClickDispatch($v.start,$v.end,$v.resource);}};this.clearDblClickTimeout=function(){$f.dblclick=null;};this.onMaindMouseDown=function(ev){$f.crosshairHide();$f.stopScroll();var $u={};if(!$f.coords){var $2A=$f.maind;$f.coords=DayPilot.mo2($2A,ev);};ev=ev||window.event;var $2d=ev.which||ev.button;if($f.dblclick){window.clearTimeout($f.timeout);if($f.coords.x===$f.dblclick.coords.x&&$f.coords.y===$f.dblclick.coords.y){$f.onMaindDblClick(ev);return false;}};$f.dblclick={};var $2B=$f.dblclick;$2B.coords=$f.coords;$2B.timeout=window.setTimeout($f.clearDblClickTimeout,500);if($2d===2||($2d===3&&$f.isWithinRange($f.coords))){return false;};if($f.timeRangeSelectedHandling==='Disabled'){return false;};$u.start={y:$f.getRow($f.coords.y).i,x:Math.floor($f.coords.x/$f.cellWidth)};$u.end={x:Math.floor($f.coords.x/$f.cellWidth)};$u.calendar=$f;DayPilotScheduler.range=$u;$f.drawRange();return false;};this.onMaindMouseMove=function(ev){DayPilotScheduler.activeCalendar=this;ev=ev||window.event;var $j=DayPilot.mc(ev);$f.coords=DayPilot.mo2($f.maind,ev);if(DayPilotScheduler.resizing){var $2C=DayPilotScheduler.resizing.event.calendar.cellWidth;var $2D=0;var $2E=($j.x-DayPilotScheduler.originalMouse.x);if(DayPilotScheduler.resizing.dpBorder==='right'){var $2F;if($f.snapToGrid){$2F=Math.ceil(((DayPilotScheduler.originalWidth+DayPilotScheduler.originalLeft+$2E))/$2C)*$2C-DayPilotScheduler.originalLeft;}else{$2F=DayPilotScheduler.originalWidth+DayPilotScheduler.originalLeft+$2E-DayPilotScheduler.originalLeft;};if($2F<$2C){$2F=$2C;};var $1z=$f.maind.clientWidth;if(DayPilotScheduler.originalLeft+$2F>$1z){$2F=$1z-DayPilotScheduler.originalLeft;};DayPilotScheduler.resizingShadow.style.width=($2F-4)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){var $2G;if($f.snapToGrid){$2G=Math.floor(((DayPilotScheduler.originalLeft+$2E-$2D)+$2C/2) / $2C)*$2C+$2D;}else{$2G=DayPilotScheduler.originalLeft+$2E-$2D+$2D;};if($2G<$2D){$2G=$2D;};var $2F=DayPilotScheduler.originalWidth-($2G-DayPilotScheduler.originalLeft);if($2F<$2C){$2F=$2C;}else{DayPilotScheduler.resizingShadow.style.left=$2G+'px';};DayPilotScheduler.resizingShadow.style.width=($2F-4)+'px';}}else if(DayPilotScheduler.moving){DayPilotScheduler.moving.target=$f;$f.moveShadow();}else if(DayPilotScheduler.range){var $u=DayPilotScheduler.range;$u.end={x:Math.floor($f.coords.x/$f.cellWidth)};$f.drawRange();}else if($f.crosshairType!=='Disabled'){$f.updateCrosshairPosition();};var $2H=ev.insideEvent;if(window.event){$2H=window.event.srcElement.insideEvent;};if($f.cellBubble&&$f.coords&&$f.rows&&$f.rows.length>0&&!$2H){var x=Math.floor($f.coords.x/$f.cellWidth);var y=$f.getRow($f.coords.y).i;if(y<$f.rows.length){$f.cellBubble.showCell($f.id,$f.rows[y].Value,$f.timeline[x].start,$f.timeline[x].end);}};if(DayPilotScheduler.drag){$f.crosshairHide();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$f.coords&&$f.rows.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $2I=new DayPilot.Date();var ev={$2J:DayPilotScheduler.drag.id,$T:$2I,end:$2I.addSeconds(DayPilotScheduler.drag.duration),$c:DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$f;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$f.createShadow(DayPilotScheduler.drag.duration,$f.shadow,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($f.autoScroll=="Always"||($f.autoScroll=="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $2K=$f.nav.scroll;var $0D={x:$f.coords.x,y:$f.coords.y};$0D.x-=$2K.scrollLeft;$0D.y-=$2K.scrollTop;var $w=$2K.clientWidth;var $x=$2K.clientHeight;var $o=20;var $L=$0D.x<$o;var $M=$w-$0D.x<$o;var top=$0D.y<$o;var $0G=$x-$0D.y<$o;var x=0;var y=0;if($L){x=-5;};if($M){x=5;};if(top){y=-5;};if($0G){y=5;};if(x||y){$f.startScroll(x,y);}else{$f.stopScroll();}}};this.updateCrosshairPosition=function(){if($f.coords&&$f.rows&&$f.rows.length>0){var x=Math.floor($f.coords.x/$f.cellWidth);var y=$f.getRow($f.coords.y).i;if(y<$f.rows.length){$f.crosshair(x,y);}}};this.crosshairHide=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.crosshairLastX=-1;this.crosshairLastY=-1;};this.crosshair=function(x,y){var $d=this.crosshairType;var $p=this.getRowByIndex(y);if($d==='Full'){var $L=x*this.cellWidth;var $1w=this.crosshairVertical;if(!$1w){var $1w=document.createElement("div");$1w.style.width=this.cellWidth+'px';$1w.style.height=$f.innerHeightTree+'px';$1w.style.position='absolute';$1w.style.top='0px';$1w.style.backgroundColor=this.crosshairColor;$1w.style.opacity=this.crosshairOpacity/100;$1w.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$1w;this.divCrosshair.appendChild($1w);};$1w.style.left=$L+'px';var top=$p.top;var $x=$p.height;var $w=this.cellCount()*this.cellWidth;var $1w=this.crosshairHorizontal;if(!$1w){var $1w=document.createElement("div");$1w.style.width=$w+'px';$1w.style.height=$x+'px';$1w.style.position='absolute';$1w.style.top=top+'px';$1w.style.left='0px';$1w.style.backgroundColor=this.crosshairColor;$1w.style.opacity=this.crosshairOpacity/100;$1w.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$1w;this.divCrosshair.appendChild($1w);};$1w.style.top=top+'px';$1w.style.height=$x+'px';};if(this.crosshairLastX!==x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $1w=document.createElement("div");$1w.style.width=this.cellWidth+"px";$1w.style.height=this.headerHeight+"px";$1w.style.left='0px';$1w.style.top='0px';$1w.style.position='absolute';$1w.style.backgroundColor=this.crosshairColor;$1w.style.opacity=this.crosshairOpacity/100;$1w.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$1w;var $2p=this.divNorth;if($2p.firstChild.rows[1].cells[x]){$2p.firstChild.rows[1].cells[x].firstChild.appendChild($1w);}};if(this.crosshairLastY!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $0y=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];for(var i=0;i<$0y;i++){var $w=this.rowHeaderCols?this.rowHeaderCols[i]:this.rowHeaderWidth;var $1w=document.createElement("div");$1w.style.width=$w+"px";$1w.style.height=$p.height+"px";$1w.style.left='0px';$1w.style.top='0px';$1w.style.position='absolute';$1w.style.backgroundColor=this.crosshairColor;$1w.style.opacity=this.crosshairOpacity/100;$1w.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($1w);this.divHeader.rows[$p.i].cells[i].firstChild.appendChild($1w);}};this.crosshairLastX=x;this.crosshairLastY=y;};this.onMaindRightClick=function(ev){ev=ev||window.event;if($f.timeRangeSelectedHandling==='Disabled'){return false;};if(!$f.isWithinRange($f.coords)){$f.onMaindClick(ev);};if($f.contextMenuSelection){var $2L=$f.getSelection(DayPilotScheduler.rangeHold);$f.contextMenuSelection.show($2L);};ev.cancelBubble=true;return false;};this.isWithinRange=function($0D){var $u=DayPilotScheduler.rangeHold;if(!$u||!$u.start||!$u.end){return false;};var $p=this.getRowByIndex($u.start.y);var $2M=$u.start.x<$u.end.x;var $2N=($2M?$u.start.x:$u.end.x)*this.cellWidth;var $2O=($2M?$u.end.x:$u.start.x)*this.cellWidth+this.cellWidth;var $2P=$p.top;var $2Q=$p.bottom;if($0D.x>=$2N&&$0D.x<=$2O&&$0D.y>=$2P&&$0D.y<=$2Q){return true;};return false;};this.drawRange=function(){var $u=DayPilotScheduler.range;var $2i=$u.end.x>$u.start.x?$u.start.x:$u.end.x;var $2j=($u.end.x>$u.start.x?$u.end.x:$u.start.x)+1;this.deleteRange();for(var x=$2i;x<$2j;x++){this.drawRangeCell(x,$u.start.y);}};this.hideLoadingLabel=function(){var loading=this.maind.previousSibling;while(loading&&loading.tagName!=="DIV")$N=$N.previousSibling;if(loading){loading.style.display='none';}};this.onMaindClick=function(ev){if($f.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $2d=ev.which||ev.button;if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$f.isWithinRange($f.coords)&&($2d===3||$2d===2)){return;};var $u={};$u.start={y:$f.getRow($f.coords.y).i,x:Math.floor($f.coords.x/$f.cellWidth)};$u.end={x:Math.floor($f.coords.x/$f.cellWidth)};DayPilotScheduler.range=$u;$f.drawRange();DayPilotScheduler.range=null;var $v=$f.getSelection($u);$f.timeRangeSelectedDispatch($v.start,$v.end,$v.resource);DayPilotScheduler.rangeHold=$u;};this.cellClick=function(){var o=this.style.backgroundColor;this.style.backgroundColor='#316AC5';$f.timeRangeSelectedDispatch(this.start,this.end,this.row);this.style.backgroundColor=o;};this.onScroll=function(ev){if($f.dynamicLoading){$f.onScrollDynamic();return;};var $2R=$f.nav.scroll;$f.scrollPos=$2R.scrollLeft;$f.scrollTop=$2R.scrollTop;$f.scrollWidth=$2R.clientWidth;$f.divTimeScroll.scrollLeft=$f.scrollPos;$f.divResScroll.scrollTop=$f.scrollTop;if($f.refreshTimeout){window.clearTimeout($f.refreshTimeout);};$f.refreshTimeout=window.setTimeout($f.delayedRefresh(),50);$f.onScrollCalled=true;};this.onScrollDynamic=function(){var $2R=$f.nav.scroll;$f.scrollPos=$2R.scrollLeft;$f.scrollTop=$2R.scrollTop;$f.scrollWidth=$2R.clientWidth;$f.divTimeScroll.scrollLeft=$f.scrollPos;$f.divResScroll.scrollTop=$f.scrollTop;if($f.refreshTimeout){window.clearTimeout($f.refreshTimeout);};$f.refreshTimeout=window.setTimeout($f.delayedRefreshDynamic($2R.scrollLeft,$2R.scrollTop),500);};this.delayedRefreshDynamic=function(scrollX,scrollY){return function(){$f.scrollX=scrollX;$f.scrollY=scrollY;$f.callBack2('Scroll');};};this.delayedRefresh=function(){return function(){$f.saveState();$f.drawCells();$f.refreshTimeout=window.setTimeout($f.delayedDrawEvents(),200);};};this.delayedDrawEvents=function(){var $1W=false;var $2S=false;var $2T=0;return function(){if($f.hiddenEvents()){$f.loadingStart();window.setTimeout(function(){if($2S)$f.deleteOldEvents($2T);window.setTimeout(function(){$f.drawEvents($1W);},50);},50);}};};this.debugHeader=function(){var $2U=this.scrollPos;var $2V=this.scrollWidth;var x=Math.floor($2U/this.cellWidth);var $W=this.timeline[x];this.drawTimeHeaderSection($2U,$2V);};this.drawCellsFull=function(){var $0r=this.getDrawArea();var $2W=$0r.xStart;var $2X=$0r.xEnd-$0r.xStart;var $2Y=$0r.yStart;var $2Z=$0r.yEnd-$0r.yStart;this.elements.cells=[];for(var i=0;i<$2X;i++){var x=$2W+i;for(var j=0;j<$2Z;j++){var y=$2Y+j;if(!this.rows[y].Hidden){this.drawCell(x,y);}}}};this.drawCells=function(){if(this.rows!==null&&this.rows.length>0){if(this.dirtyColors){this.drawCellsFull();}else{this.drawCellsFast();};this.drawTimeBreaks();};var $w=this.cellCount()*this.cellWidth;this.maind.style.height=this.innerHeightTree+"px";this.maind.style.width=$w+"px";};this.drawTimeBreaks=function(){this.elements.cells=[];var $0r=this.getDrawArea();for(var x=$0r.xStart;x<$0r.xEnd;x++){var $30=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;if($30){this.drawTimeBreak(x);}}};this.drawTimeBreak=function(x){var $0H="x"+x;if(this.cache.breaks[$0H]){return;};var $L=x*this.cellWidth+this.cellWidth-1;var $x=this.innerHeightTree;var $1w=document.createElement("div");$1w.style.left=$L+"px";$1w.style.top="0px";$1w.style.width="1px";$1w.style.height=$x+"px";$1w.style.fontSize='1px';$1w.style.lineHeight='1px';$1w.style.overflow='hidden';$1w.style.position='absolute';$1w.style.backgroundColor=this.timeBreakColor;$1w.unselectable='on';this.divBreaks.appendChild($1w);this.elements.breaks.push($1w);this.cache.breaks[$0H]='1';};this.getDrawArea=function(){var $31=30;var $0r={};var $32=Math.floor(this.scrollPos/this.cellWidth);var $33=Math.ceil(this.scrollWidth/this.cellWidth)+1;var $0Z=this.cellCount();var $T=$32-$31;var end=$T+2*$31+$33;end=Math.min(end,$0Z);$T=Math.max($T,0);var $2Y=this.getRow(this.nav.scroll.scrollTop).i;var $34=this.getRow(this.nav.scroll.scrollTop+this.nav.scroll.offsetHeight).i;if($34<this.rows.length){$34++;};var $2Z=$34-$2Y;$0r.xStart=$T;$0r.xEnd=end;$0r.yStart=$2Y;$0r.yEnd=$34;return $0r;};this.drawCellsFast=function(){var $0r=this.getDrawArea();var $T=$0r.xStart;var end=$0r.xEnd;this.elements.cells=[];for(var x=$T;x<end;x++){this.drawCellColumn(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.drawLine(y);}}};this.drawLine=function(y){var $0H="y"+y;if(this.cache.cells[$0H]){return;};var top=this.rows[y].Top+this.rows[y].Height-1;var $w=this.cellCount()*this.cellWidth;var $1w=document.createElement("div");$1w.style.left="0px";$1w.style.top=top+"px";$1w.style.width=$w+"px";$1w.style.height="1px";$1w.style.fontSize='1px';$1w.style.lineHeight='1px';$1w.style.overflow='hidden';$1w.style.position='absolute';$1w.style.backgroundColor=this.cellBorderColor;$1w.unselectable='on';this.divLines.appendChild($1w);this.elements.cells.push($1w);this.cache.cells[$0H]='1';};this.drawCellColumn=function(x){var $0H="x"+x;var $x=this.innerHeightTree;if(this.cache.cells[$0H]){return;};var $2y=this.getColor(x,0);var $30=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;var $W=document.createElement("div");$W.style.left=(x*this.cellWidth)+"px";$W.style.top="0px";$W.style.width=(this.cellWidth-1)+"px";$W.style.height=$x+"px";$W.style.position='absolute';$W.style.backgroundColor=$2y;$W.unselectable='on';$W.className=this.applyCssClass('cellbackground');this.divCells.appendChild($W);this.elements.cells.push($W);this.cache.cells[$0H]='1';};this.hideRows=function($2r,to){if(!to){to=$2r;};if(to<$2r){return;};if($2r<0||$2r>=this.rows.length){return;};for(var i=$2r;i<=to;i++){this.row[i].Hidden=true;};this.deleteCells();this.drawCells();this.deleteEvents();this.drawEvents();this.drawResHeader();};this.collapse=function(i){this.rows[i].Expanded=false;this.updateChildren(i);this.prepareRowTops();this.deleteCells();this.drawCells();this.deleteEvents();this.drawEvents();this.drawResHeader();this.updateHeight();this.saveState();};this.expand=function(i){this.rows[i].Expanded=true;this.updateChildren(i);this.prepareRowTops();this.deleteCells();this.drawCells();this.deleteEvents();this.drawEvents();this.drawResHeader();this.updateHeight();this.saveState();};this.toggle=function(i){this.rows[i].Expanded=!this.rows[i].Expanded;this.updateChildren(i,this.rows[i].Expanded);this.prepareRowTops();this.deleteCells();this.drawCells();this.deleteEvents();this.drawEvents();this.drawResHeader();this.updateHeight();this.onScroll();this.saveState();};this.loadNode=function(i){var $0f={};$0f.index=i;this.callBack2('LoadNode',$0f);};this.updateChildren=function(i,$35){var $p=this.rows[i];if($p.Children===null||$p.Children.length===0){return;};for(var k=0;k<$p.Children.length;k++){var $0H=$p.Children[k];this.rows[$0H].Hidden=$35?!$p.Expanded:true;this.updateChildren($0H,$35);}};this.startScroll=function($36,$37){this.stopScroll();this.scrollabit($36,$37);};this.scrollabitX=function($1X){if(!$1X){return false;};var $1N=this.nav.scroll.scrollWidth;var $T=this.nav.scroll.scrollLeft;var $w=this.nav.scroll.clientWidth;var $M=$T+$w;if($1X<0&&$T<=0){return false;};if($1X>0&&$M>=$1N){return false;};this.nav.scroll.scrollLeft+=$1X;return true;};this.scrollabitY=function($1X){if(!$1X){return false;};var $1N=this.nav.scroll.scrollHeight;var $T=this.nav.scroll.scrollTop;var $x=this.nav.scroll.clientHeight;var $0G=$T+$x;if($1X<0&&$T<=0){return false;};if($1X>0&&$0G>=$1N){return false;};this.nav.scroll.scrollTop+=$1X;return true;};this.scrollabit=function($36,$37){var $38=this.scrollabitX($36)||this.scrollabitY($37);if(!$38){return;};var $39=function($36,$37){return function(){$f.scrollabit($36,$37);};};this.scrolling=window.setTimeout($39($36,$37),100);};this.stopScroll=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.prepareRowTops=function(){var top=0;for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];if(!$p.Hidden){$p.Top=top;top+=$p.Height;}};this.innerHeightTree=top;};this.deleteCells=function(){this.elements.cells=[];this.elements.breaks=[];this.cache.cells=[];this.cache.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.drawCell=function(x,y){var $0H=x+'_'+y;if(this.cache.cells[$0H]){return;};var $2y=this.getColor(x,y);var $W=document.createElement("div");$W.style.left=(x*this.cellWidth)+"px";$W.style.top=this.rows[y].Top+"px";$W.style.width=(this.cellWidth-1)+"px";$W.style.height=(this.rows[y].Height-1)+"px";$W.style.position='absolute';$W.style.backgroundColor=$2y;$W.unselectable='on';$W.className=this.applyCssClass('cellbackground');if(this.cellProperties[$0H]){var p=this.cellProperties[$0H];$W.innerHTML=p.html;$W.style.backgroundImage=p.image;$W.style.backgroundRepeat=p.repeat;if(p.css){if($W.className){$W.className+=" "+this.applyCssClass(p.css);}else{$W.className=this.applyCssClass(p.css);}}};this.divCells.appendChild($W);this.elements.cells.push($W);this.cache.cells[$0H]='1';};this.drawRangeCell=function(x,y){var $W=document.createElement("div");$W.style.left=(x*this.cellWidth)+"px";$W.style.top=this.rows[y].Top+"px";$W.style.width=(this.cellWidth-1)+"px";$W.style.height=(this.rows[y].Height-1)+"px";$W.style.position='absolute';$W.style.backgroundColor=$f.cellSelectColor;$W.unselectable='on';this.divRange.appendChild($W);this.elements.range.push($W);};this.clearSelection=function(){this.deleteRange();};this.cleanSelection=this.clearSelection;this.deleteRange=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];DayPilotScheduler.rangeHold=null;};this.getColor=function(x,y){if(this.colors){if(this.colors!==null&&this.colors[y]!==null&&this.colors[y][x]!==null&&this.palette!==null){return this.palette[this.colors[y][x]];}else return null;}else{var $W={};$W.resource=this.rows[y].Value;var $06=this.timeline[x].start.getTime()-this.startDate.getTime();$W.start=new DayPilot.Date(this.rows[y].Start).addTime($06);$W.backColor=this.isBusiness($W)?this.cellBackColor:this.cellBackColorNonBusiness;var $2q=this.beforeCellRender($W);if($2q){return $2q.backColor;}else{return this.cellBackColor;}}};this.isBusiness=function($W){if($W.start.dayOfWeek()===0||$W.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($W.start.getHours()<this.businessBeginsHour||$W.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.beforeCellRender=function($W){return $W;};this.setHeight=function($0a){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$0a-(2*this.headerHeight+2);this.updateHeight();};this.findRowByResourceId=function(id){for(var i=0;i<this.rows.length;i++){if(this.rows[i].Value===id){return this.rows[i];}};return null;};};DayPilotScheduler.Action=function($f,$0g,$0f,$0b){this.calendar=$f;this.isAction=true;this.action=$0g;this.params=$0f;this.data=$0b;this.notify=function(){$f.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$f.queue.add(this);};this.toJSON=function(){var $0o={};$0o.name=this.action;$0o.params=this.params;$0o.data=this.data;return $0o;}};DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.Scheduler=DayPilotScheduler.Scheduler;})();

